{% extends "base.html" %}

{% block title %}Vehicle Detection{% endblock %}

{% block content %}

<style>
    /*help button pop up */
    #helpButton{
        position: fixed;
        bottom: 105px;
        right: 20px;
        color: gray;
        font-size: 20px;
        font-weight: bold;
        width: 20px; /*circle dimensions*/
        height: 20px;
        border: none;
        border-radius: 50%;
        cursor: pointer;
        line-height: 20px;
    }

    /*changes colour on hover*/
    #helpButton:hover{
        background-color: #333334;
        transform: translateY(-2px);
    }

    /* Modal styles */
    #helpModal {
      display: none;
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: white;
      padding: 20px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
      border-radius: 8px;
      z-index: 1001;
    }

    #modalOverlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      z-index: 1000;
    }

    /* Close button styles */
    .closeButton {
      background: red;
      color: white;
      border: none;
      border-radius: 5px;
      padding: 5px 10px;
      cursor: pointer;
      font-size: 14px;
    }
</style>
    <h2 class="section_heading">Vehicle Dectection</h2>
    <br>
    <br>

 <!-- WIP - copied from old index file.   -->
    <body >
        <!-- Main container for the content -->
        <div class="container">

    
            <!-- Form for uploading files, like images or videos -->
            <form id="upload-form" enctype="multipart/form-data">
                <!-- Input for selecting files, allows only images or videos -->
                <input type="file" id="file-input" name="file" accept="image/*,video/*">
                <!-- Button to submit the form and upload the selected file -->
                <button type="submit">Upload</button>
            </form>
    
            <!-- Section to display error messages, hidden by default -->
            <div id="error-message" style="color: red; display: none;"></div>
    
            <!-- Output section to show the original and detected images -->
            <div id="output">
                <br>
                <!-- Heading for the original input image -->
                <h2>Original Input:</h2>
                <!-- Placeholder for showing the original image, hidden by default -->
                <img id="input-image" src="#" alt="Original Image" style="display: none;">
                <!-- Heading for the detected output image -->
                <br>
                <h2>Detected Output:</h2>
                <!-- Placeholder for showing the detected image with results, hidden by default -->
                <img id="output-image" src="#" alt="Detected Image" style="display: none;">
            </div>
        </div>

        <div id="help">
            <button id="helpButton">?</button>
        </div>

        <div id="modalOverlay"></div>

        <div id="helpModal">
            <h2>Need Help?</h2>
            <p>Contact us at <a href="mailto:support@example.com">email</a> or call phone number.</p>
            <button class="closeButton" id="closeButton">Close</button>
          </div>
    
        <!-- Link to the external JavaScript file that controls the file upload and display logic -->
        <script src="/static/js/script.js"></script>
        <script>
            const helpButton = document.getElementById('helpButton');
            const helpModal = document.getElementById('helpModal');
    const modalOverlay = document.getElementById('modalOverlay');
    const closeButton = document.getElementById('closeButton');

    // Open modal
    helpButton.addEventListener('click', () => {
      helpModal.style.display = 'block';
      modalOverlay.style.display = 'block';
    });

    // Close modal
    closeButton.addEventListener('click', () => {
      helpModal.style.display = 'none';
      modalOverlay.style.display = 'none';
    });

    // Close modal when clicking outside of it
    modalOverlay.addEventListener('click', () => {
      helpModal.style.display = 'none';
      modalOverlay.style.display = 'none';
    });
        </script>
    </body>
{% endblock %}