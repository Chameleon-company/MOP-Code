/*! For license information please see responses.editor.ec13f6ad.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunklite=self.webpackChunklite||[]).push([[5258],{15279:(e,n,i)=>{i.r(n),i.d(n,{ThreadedInlineResponseEditor:()=>Q});var t=i(82284),a=i(80296),d=i(96540),o=i(74793),r=i(70694),l=i(43389),m=i(88615),s=i(99836),u=i(10467),k=i(64467),c=i(17180),p=i(8389),v=i(82487),N=i(60602),S=i(78265),f=i(20704),y=i(45458);function g(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function F(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?g(Object(i),!0).forEach((function(n){(0,k.A)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):g(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}function h(e,n){(null==n||n>e.length)&&(n=e.length);for(var i=0,t=new Array(n);i<n;i++)t[i]=e[i];return t}var _,b=i(98023),C=i.n(b),w=i(95420),T=i(47676),P=i(49287),E={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"updatePostResponse"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"responseId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"latestRev"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"deltas"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Delta"}}}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updatePostResponse"},arguments:[{kind:"Argument",name:{kind:"Name",value:"responseId"},value:{kind:"Variable",name:{kind:"Name",value:"responseId"}}},{kind:"Argument",name:{kind:"Name",value:"latestRev"},value:{kind:"Variable",name:{kind:"Name",value:"latestRev"}}},{kind:"Argument",name:{kind:"Name",value:"deltas"},value:{kind:"Variable",name:{kind:"Name",value:"deltas"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"itemType"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"StreamItemPostSimpleResponse"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SimpleResponse_post"}}]}}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Markups_markup"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Markup"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"start"}},{kind:"Field",name:{kind:"Name",value:"end"}},{kind:"Field",name:{kind:"Name",value:"href"}},{kind:"Field",name:{kind:"Name",value:"anchorType"}},{kind:"Field",name:{kind:"Name",value:"userId"}},{kind:"Field",name:{kind:"Name",value:"linkMetadata"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"httpStatus"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"SimpleResponseContent_markup"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Markup"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"start"}},{kind:"Field",name:{kind:"Name",value:"end"}},{kind:"FragmentSpread",name:{kind:"Name",value:"Markups_markup"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"SimpleResponseContent_paragraph"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Paragraph"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"text"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"markups"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SimpleResponseContent_markup"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"DropCap_image"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ImageMetadata"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"originalHeight"}},{kind:"Field",name:{kind:"Name",value:"originalWidth"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"MarkupNode_data_dropCapImage"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ImageMetadata"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"DropCap_image"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Markups_paragraph"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Paragraph"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"text"}},{kind:"Field",name:{kind:"Name",value:"hasDropCap"}},{kind:"Field",name:{kind:"Name",value:"dropCapImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MarkupNode_data_dropCapImage"}}]}},{kind:"Field",name:{kind:"Name",value:"markups"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Markups_markup"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ParagraphRefsMapContext_paragraph"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Paragraph"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"text"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"TextParagraph_paragraph"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Paragraph"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"hasDropCap"}},{kind:"Field",name:{kind:"Name",value:"codeBlockMetadata"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mode"}},{kind:"Field",name:{kind:"Name",value:"lang"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"Markups_paragraph"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ParagraphRefsMapContext_paragraph"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"buildQuotePreviewParagraph_quote"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Quote"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paragraphs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"text"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"markups"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"end"}},{kind:"Field",name:{kind:"Name",value:"start"}},{kind:"Field",name:{kind:"Name",value:"type"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"startOffset"}},{kind:"Field",name:{kind:"Name",value:"endOffset"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ResponseQuote_quote"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Quote"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"quoteId"}},{kind:"Field",name:{kind:"Name",value:"startOffset"}},{kind:"Field",name:{kind:"Name",value:"endOffset"}},{kind:"Field",name:{kind:"Name",value:"paragraphs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TextParagraph_paragraph"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"buildQuotePreviewParagraph_quote"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ResponseQuote_mediaResource"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MediaResource"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"href"}},{kind:"Field",name:{kind:"Name",value:"mediumQuote"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ResponseQuote_quote"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PostScrollTracker_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"sequence"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sequenceId"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PostPresentationTracker_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"visibility"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"slug"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"userUrl_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"customDomainState"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"live"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"domain"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"hasSubdomain"}},{kind:"Field",name:{kind:"Name",value:"username"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"UserAvatar_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"imageId"}},{kind:"Field",name:{kind:"Name",value:"membership"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tier"}}]}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"useIsVerifiedBookAuthor_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"verifications"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isBookAuthor"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"UserFollowButtonSignedIn_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"SignInOptions_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"SignUpOptions_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"SusiContainer_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SignInOptions_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SignUpOptions_user"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"SusiClickable_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SusiContainer_user"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"UserFollowButtonSignedOut_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SusiClickable_user"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"UserFollowButton_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"UserFollowButtonSignedIn_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserFollowButtonSignedOut_user"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"UserMentionTooltip_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"bio"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserAvatar_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserFollowButton_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"useIsVerifiedBookAuthor_user"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"UserLink_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"UserMentionTooltip_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"UserPronouns_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pronouns"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"SusiContainer_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"SusiClickable_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"mediumUrl"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SusiContainer_post"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ReportUserMenuItem_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"SusiClickable_post"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"useHideResponseParent_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isEditor"}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"HideResponseMenuItemParent_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"useHideResponseParent_post"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"BlockUserMenuItem_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"UndoClapsMenuItem_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"clapCount"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"DeleteResponseMenuItem_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"useReportStory_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ReportResponseDialog_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"useHideResponseParent_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"useReportStory_post"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ResponsePopoverMenu_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"responseDistribution"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ReportUserMenuItem_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"HideResponseMenuItemParent_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"BlockUserMenuItem_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UndoClapsMenuItem_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"DeleteResponseMenuItem_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ReportResponseDialog_post"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ResponseHeader_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"createdAt"}},{kind:"Field",name:{kind:"Name",value:"firstPublishedAt"}},{kind:"Field",name:{kind:"Name",value:"latestPublishedAt"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserAvatar_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"useIsVerifiedBookAuthor_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserLink_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserPronouns_user"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"ResponsePopoverMenu_post"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"MultiVoteCount_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"MultiVote_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SusiClickable_user"}}]}},{kind:"Field",name:{kind:"Name",value:"isPublished"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SusiClickable_post"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"slug"}}]}},{kind:"Field",name:{kind:"Name",value:"isLimitedState"}},{kind:"FragmentSpread",name:{kind:"Name",value:"MultiVoteCount_post"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ThreadedResponseFooter_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"postResponses"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"}}]}},{kind:"Field",name:{kind:"Name",value:"mediumUrl"}},{kind:"FragmentSpread",name:{kind:"Name",value:"MultiVote_post"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"SimpleResponse_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"content"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bodyModel"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paragraphs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SimpleResponseContent_paragraph"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"inResponseToMediaResource"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ResponseQuote_mediaResource"}}]}},{kind:"Field",name:{kind:"Name",value:"mediumUrl"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostScrollTracker_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostPresentationTracker_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ResponseHeader_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ThreadedResponseFooter_post"}}]}}]};!function(e){e.success="SUCCESS",e.error="ERROR"}(_||(_={}));var D=function(e){var n;return(n={},(0,k.A)(n,_.success,"inlineEditor.publish"),(0,k.A)(n,_.error,"inlineEditor.publishError"),n)[e]},I=i(79756);function R(){R=function(){return n};var e,n={},i=Object.prototype,a=i.hasOwnProperty,d=Object.defineProperty||function(e,n,i){e[n]=i.value},o="function"==typeof Symbol?Symbol:{},r=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",m=o.toStringTag||"@@toStringTag";function s(e,n,i){return Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}),e[n]}try{s({},"")}catch(e){s=function(e,n,i){return e[n]=i}}function u(e,n,i,t){var a=n&&n.prototype instanceof f?n:f,o=Object.create(a.prototype),r=new I(t||[]);return d(o,"_invoke",{value:T(e,i,r)}),o}function k(e,n,i){try{return{type:"normal",arg:e.call(n,i)}}catch(e){return{type:"throw",arg:e}}}n.wrap=u;var c="suspendedStart",p="suspendedYield",v="executing",N="completed",S={};function f(){}function y(){}function g(){}var F={};s(F,r,(function(){return this}));var h=Object.getPrototypeOf,_=h&&h(h(O([])));_&&_!==i&&a.call(_,r)&&(F=_);var b=g.prototype=f.prototype=Object.create(F);function C(e){["next","throw","return"].forEach((function(n){s(e,n,(function(e){return this._invoke(n,e)}))}))}function w(e,n){function i(d,o,r,l){var m=k(e[d],e,o);if("throw"!==m.type){var s=m.arg,u=s.value;return u&&"object"==(0,t.A)(u)&&a.call(u,"__await")?n.resolve(u.__await).then((function(e){i("next",e,r,l)}),(function(e){i("throw",e,r,l)})):n.resolve(u).then((function(e){s.value=e,r(s)}),(function(e){return i("throw",e,r,l)}))}l(m.arg)}var o;d(this,"_invoke",{value:function(e,t){function a(){return new n((function(n,a){i(e,t,n,a)}))}return o=o?o.then(a,a):a()}})}function T(n,i,t){var a=c;return function(d,o){if(a===v)throw new Error("Generator is already running");if(a===N){if("throw"===d)throw o;return{value:e,done:!0}}for(t.method=d,t.arg=o;;){var r=t.delegate;if(r){var l=P(r,t);if(l){if(l===S)continue;return l}}if("next"===t.method)t.sent=t._sent=t.arg;else if("throw"===t.method){if(a===c)throw a=N,t.arg;t.dispatchException(t.arg)}else"return"===t.method&&t.abrupt("return",t.arg);a=v;var m=k(n,i,t);if("normal"===m.type){if(a=t.done?N:p,m.arg===S)continue;return{value:m.arg,done:t.done}}"throw"===m.type&&(a=N,t.method="throw",t.arg=m.arg)}}}function P(n,i){var t=i.method,a=n.iterator[t];if(a===e)return i.delegate=null,"throw"===t&&n.iterator.return&&(i.method="return",i.arg=e,P(n,i),"throw"===i.method)||"return"!==t&&(i.method="throw",i.arg=new TypeError("The iterator does not provide a '"+t+"' method")),S;var d=k(a,n.iterator,i.arg);if("throw"===d.type)return i.method="throw",i.arg=d.arg,i.delegate=null,S;var o=d.arg;return o?o.done?(i[n.resultName]=o.value,i.next=n.nextLoc,"return"!==i.method&&(i.method="next",i.arg=e),i.delegate=null,S):o:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,S)}function E(e){var n={tryLoc:e[0]};1 in e&&(n.catchLoc=e[1]),2 in e&&(n.finallyLoc=e[2],n.afterLoc=e[3]),this.tryEntries.push(n)}function D(e){var n=e.completion||{};n.type="normal",delete n.arg,e.completion=n}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function O(n){if(n||""===n){var i=n[r];if(i)return i.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var d=-1,o=function i(){for(;++d<n.length;)if(a.call(n,d))return i.value=n[d],i.done=!1,i;return i.value=e,i.done=!0,i};return o.next=o}}throw new TypeError((0,t.A)(n)+" is not iterable")}return y.prototype=g,d(b,"constructor",{value:g,configurable:!0}),d(g,"constructor",{value:y,configurable:!0}),y.displayName=s(g,m,"GeneratorFunction"),n.isGeneratorFunction=function(e){var n="function"==typeof e&&e.constructor;return!!n&&(n===y||"GeneratorFunction"===(n.displayName||n.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,m,"GeneratorFunction")),e.prototype=Object.create(b),e},n.awrap=function(e){return{__await:e}},C(w.prototype),s(w.prototype,l,(function(){return this})),n.AsyncIterator=w,n.async=function(e,i,t,a,d){void 0===d&&(d=Promise);var o=new w(u(e,i,t,a),d);return n.isGeneratorFunction(i)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},C(b),s(b,m,"Generator"),s(b,r,(function(){return this})),s(b,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var n=Object(e),i=[];for(var t in n)i.push(t);return i.reverse(),function e(){for(;i.length;){var t=i.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},n.values=O,I.prototype={constructor:I,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(D),!n)for(var i in this)"t"===i.charAt(0)&&a.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var i=this;function t(t,a){return r.type="throw",r.arg=n,i.next=t,a&&(i.method="next",i.arg=e),!!a}for(var d=this.tryEntries.length-1;d>=0;--d){var o=this.tryEntries[d],r=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var l=a.call(o,"catchLoc"),m=a.call(o,"finallyLoc");if(l&&m){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!m)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,n){for(var i=this.tryEntries.length-1;i>=0;--i){var t=this.tryEntries[i];if(t.tryLoc<=this.prev&&a.call(t,"finallyLoc")&&this.prev<t.finallyLoc){var d=t;break}}d&&("break"===e||"continue"===e)&&d.tryLoc<=n&&n<=d.finallyLoc&&(d=null);var o=d?d.completion:{};return o.type=e,o.arg=n,d?(this.method="next",this.next=d.finallyLoc,S):this.complete(o)},complete:function(e,n){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&n&&(this.next=n),S},finish:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.finallyLoc===e)return this.complete(i.completion,i.afterLoc),D(i),S}},catch:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc===e){var t=i.completion;if("throw"===t.type){var a=t.arg;D(i)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(n,i,t){return this.delegate={iterator:O(n),resultName:i,nextLoc:t},"next"===this.method&&(this.arg=e),S}},n}function O(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function x(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?O(Object(i),!0).forEach((function(n){(0,k.A)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):O(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var U=function(e){var n=e.responseId,i=e.parentEntityId,t=e.parentEntityTypename,o=e.initialValue,r=e.showEditorHeader,m=void 0===r||r,k=(0,P.jI)(),g=(0,T.$L)(),b=d.useContext(v.o),O=b.setIsEditing,U=b.createdAt,j=b.editingQuote,L=b.setEditingQuote,M=d.useContext(l.o),A=M.setIsSavingResponse,V=M.rootEntityId,B=M.rootEntityTypename,H=d.useContext(N.a).threadDepthFromRootEntity,Q=function(e){var n=e.responseId,i=(0,T.$L)(),t=(0,P.jI)(),o=d.useContext(v.o).latestRev,r=(0,w.n)(E,{variables:{responseId:n,latestRev:-1,deltas:[]},onError:function(){i.event(D(_.error),{responseId:n,source:t})},update:function(){i.event(D(_.success),{responseId:n,source:t})}}),l=(0,a.A)(r,2),m=l[0],s=l[1];return{updateResponse:d.useCallback((function(e){return m({variables:{latestRev:C()(o)?o:-1,deltas:e,responseId:n}})}),[m,n,o]),error:null==s?void 0:s.error,loading:null==s?void 0:s.loading}}({responseId:n}),G=Q.updateResponse,q=Q.error,z=Q.loading,Y=d.useRef(null);d.useEffect((function(){var e;null!=Y&&null!==(e=Y.current)&&void 0!==e&&e.getBoundingClientRect&&Y.current.getBoundingClientRect().bottom>window.innerHeight&&Y.current.scrollIntoView({behavior:"smooth",block:"end"})}),[]);var $=d.useCallback((function(e,a){var d=e.map((function(e){return e.paragraph&&!e.paragraph.markups?x(x({},e),{},{paragraph:x(x({},e.paragraph),{},{markups:[]})}):e})),r=function(e){var n,i,t=e.originalParagraphs,a=void 0===t?[]:t,d=e.newDeltas,o=void 0===d?[]:d,r=(0,y.A)(o),l=a.map((function(e,n){return{name:e.name,markups:e.markups,index:n}})),m=o.map((function(e){var n;return null==e||null===(n=e.paragraph)||void 0===n?void 0:n.name})),s=0,u=function(e,n){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=function(e,n){if(e){if("string"==typeof e)return h(e,n);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?h(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){i&&(e=i);var t=0,a=function(){};return{s:a,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var d,o=!0,r=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return o=e.done,e},e:function(e){r=!0,d=e},f:function(){try{o||null==i.return||i.return()}finally{if(r)throw d}}}}(null==l?void 0:l.filter((function(e){return!m.includes(e.name)})));try{for(u.s();!(i=u.n()).done;){var k=i.value;(!n||k.index<n)&&(n=k.index),r.splice(k.index,0,{index:k.index-s,type:2,paragraph:{name:k.name,markups:k.markups},verifySameName:!1}),s+=1}}catch(e){u.e(e)}finally{u.f()}return l.forEach((function(e){var n=e.name,i=e.index,t=r.findIndex((function(e){var i;return(null==e||null===(i=e.paragraph)||void 0===i?void 0:i.name)===n}));void 0!==t&&void 0!==r[t]&&r[t].index!==i&&2!==r[t].type&&(r[t]=F(F({},r[t]),{},{verifySameName:!1}))})),r}({originalParagraphs:null==o?void 0:o.paragraphs,newDeltas:d});A(!0),G(r).then((function(){O(!1),A(!1),g.event("response.edited",x(x(x({postId:n},(0,I.rz)(i,t)),(0,I.DL)(V,B)),{},{threadDepth:H,context:p.J.INLINE_POST_RESPONSE,source:k})),a()})).catch((function(){A(!1)}))}),[G]);return(0,c.Ox)(q)?d.createElement(s.x,{message:(0,I.it)(B)}):d.createElement("div",{ref:Y},d.createElement(f.d,{isPublishingResponse:z,publishResponse:$,type:S.o.edit,createdAt:U,onClose:(0,u.A)(R().mark((function e(){return R().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(!1),O(!1),L(null),e.abrupt("return",{preventStateUpdate:!0});case 4:case"end":return e.stop()}}),e)}))),inResponseToQuote:j,initialValue:o,showEditorHeader:m}))},j=i(58168),L=i(60301),M=i(52290),A=i(36557),V=function(e){var n=e.entityId,i=e.entitySlug,t=e.entityTypename,a=e.entityCreatorName,o=(0,I.bY)(t),r={};return"Post"===t&&(r={postId:n}),"Catalog"===t&&(r={username:a,catalogSlugId:i}),d.createElement(M.a,{backgroundColor:"BASE_NORMAL",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:"24px"},d.createElement(A.kZ,{scale:"S",color:"DARKER"},"To respond",o?" to this ".concat(o):"",",",d.createElement("br",null),"get the free Medium app."),d.createElement(M.a,null,d.createElement(L.z,(0,j.A)({isButton:!0,buttonSize:"SMALL",appEntry:"responsesSidebar"},r))))},B=i(44402),H=i(65550),Q=function(e){var n=e.parentEntityId,i=e.parentEntityTypename,u=e.parentVersionId,k=e.parentCreatorName,c=e.parentEntitySlug,p=e.responseId,v=e.type,N=e.initialValue,f=e.viewerPronouns,y=e.editorOpenByDefault,g=void 0!==y&&y,F=e.autofocus,h=e.scrollIntoView,_=e.showPublishCheckbox,b=(0,d.useContext)(l.o),C=b.responsesLocked,w=b.isLockedResponse,T=b.rootEntityTypename,E=(0,d.useState)(!1),D=(0,a.A)(E,2),R=D[0],O=D[1],x=(0,B.l)(),j=v===S.o.edit,L=(0,H.L)(),M=(0,d.useMemo)((function(){if(j&&N)return(0,r.RJ)(N)}),[j,N]);if((0,d.useEffect)((function(){void 0!==("undefined"==typeof document?"undefined":(0,t.A)(document))&&O(!0)}),[]),!R)return null;if(C){var Q=(0,I.bY)(T),G=w&&Q?"This response belongs to ".concat(Q?"a ".concat(Q," with "):"","a closed discussion. Responding is not supported at this time."):void 0;return d.createElement(s.x,{message:G})}return L?d.createElement(V,{entitySlug:c,entityId:n,entityTypename:i,entityCreatorName:k}):d.createElement(P.Ne,{source:{susiEntry:(0,I.gz)(i)},extendSource:!0},d.createElement(o.jG,{initialValue:M,localStorageId:p||n},j&&p?d.createElement(A.kZ,{scale:"M",color:"DARKER",tag:"div"},d.createElement("div",{className:x({lineHeight:"24px",marginTop:"25px"})},d.createElement(U,{responseId:p,parentEntityId:n,parentEntityTypename:i,initialValue:N,showEditorHeader:!1}))):d.createElement(m.Q,{parentEntityId:n,parentEntityTypename:i,parentVersionId:u,editorOpenByDefault:g,viewerPronouns:f,autofocus:F,scrollIntoView:h,showPublishCheckbox:_})))}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/responses.editor.ec13f6ad.chunk.js.map