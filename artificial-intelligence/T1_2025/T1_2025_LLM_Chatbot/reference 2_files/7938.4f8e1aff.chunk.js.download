"use strict";(self.webpackChunklite=self.webpackChunklite||[]).push([[7938],{23448:(e,n,i)=>{i.d(n,{A:()=>l});var a,t=i(96540);function d(){return d=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var a in i)({}).hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},d.apply(null,arguments)}const l=function(e){return t.createElement("svg",d({xmlns:"http://www.w3.org/2000/svg",width:25,height:25,fill:"none",viewBox:"0 0 25 25"},e),a||(a=t.createElement("path",{fill:"currentColor",d:"M18 2.5a.5.5 0 0 1 1 0V5h2.5a.5.5 0 0 1 0 1H19v2.5a.5.5 0 1 1-1 0V6h-2.5a.5.5 0 0 1 0-1H18zM7 7a1 1 0 0 1 1-1h3.5a.5.5 0 0 0 0-1H8a2 2 0 0 0-2 2v14a.5.5 0 0 0 .805.396L12.5 17l5.695 4.396A.5.5 0 0 0 19 21v-8.5a.5.5 0 0 0-1 0v7.485l-5.195-4.012a.5.5 0 0 0-.61 0L7 19.985z"})))}},79766:(e,n,i)=>{i.d(n,{c:()=>d});var a=i(96540),t=i(39160);function d(e){var n=e.disabled,i=e.message,d=void 0===i?"Changes you made may not be saved.":i,l=(0,t.d4)((function(e){return e.client.hydrated}));a.useEffect((function(){if(!n&&l)return window.addEventListener("beforeunload",e),function(){window.removeEventListener("beforeunload",e)};function e(e){return e.preventDefault(),e.returnValue=d,d}}),[n,d,l])}},23496:(e,n,i)=>{i.d(n,{f:()=>ce});var a,t=i(58168),d=i(80045),l=i(80296),o=i(39181),r=i(96540),s=i(64467),c=i(45458),u=i(22554),m=i(80430),k=i(52290),v=i(86527),p=i(36557),g=i(44402),f=i(91830),N=i(30142),y=i(77662),b=i(53424),S=i(42976);function C(){return C=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var a in i)({}).hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},C.apply(null,arguments)}const I=function(e){return r.createElement("svg",C({xmlns:"http://www.w3.org/2000/svg",width:10,height:13,fill:"none",viewBox:"0 0 10 13"},e),a||(a=r.createElement("path",{fill:"#A8A8A8",fillRule:"evenodd",d:"M2.727 3.082C2.727 1.905 3.74.935 5 .935s2.273.973 2.273 2.147v2.436H2.727zM8.19 5.518h-.007V3.082C8.182 1.378 6.747 0 5 0 3.252 0 1.818 1.373 1.818 3.082v2.436h-.007c-.48.002-.941.2-1.28.55S0 6.892 0 7.387v3.744c0 .246.045.489.136.715.09.227.224.433.392.607s.368.311.588.405.457.142.695.142h6.378c.48-.002.941-.2 1.28-.55s.53-.824.531-1.319V7.387c0-.246-.045-.489-.136-.715a1.9 1.9 0 0 0-.392-.607 1.8 1.8 0 0 0-.588-.405 1.8 1.8 0 0 0-.695-.142",clipRule:"evenodd"})))};var h=i(15371),P=i(58056);function w(e){var n,i,a=e.children,t=e.target,d=e.kind,o=e.catalog,s=e.viewer,c=r.useMemo((function(){if(o.predefined){var e,n=null===(e=t.viewerEdge.catalogsConnection)||void 0===e?void 0:e.predefinedContainingThis.find((function(e){return e.predefined===o.predefined}));return[!!n,null==n?void 0:n.catalogItemIds]}var i,a=null===(i=t.viewerEdge.catalogsConnection)||void 0===i?void 0:i.catalogsContainingThis.find((function(e){return e.catalogId===o.id}));return[!!a,null==a?void 0:a.catalogItemIds]}),[o.predefined,o.id,t.viewerEdge]),u=(0,l.A)(c,2),m=u[0],k=u[1],v=(0,P.EH)(s.id,o.id,o.version,t.id,d,null!==(n=o.predefined)&&void 0!==n?n:void 0),p=(0,l.A)(v,2),g=p[0],f=p[1].loading,N=(0,P.$O)(s.id,o.id,o.version,[{entityId:t.id,entityType:d,catalogItemIds:k||[]}],null!==(i=o.predefined)&&void 0!==i?i:void 0),y=(0,l.A)(N,2),b=y[0],S=y[1].loading;return r.createElement(r.Fragment,null,a({toggleInsideCatalog:m?b:g,isInsideCatalog:m,loading:f||S}))}var E={display:"flex",alignItems:"center",justifyContent:"space-between",paddingBottom:"16px",paddingRight:"5px"},F=function(e){return{marginBottom:"1px","& path":{fill:e.colorTokens.border.neutral.secondary.base}}};function T(e){var n=e.catalog,i=e.target,a=e.kind,t=e.viewer,d=(0,g.l)();return r.createElement(w,{viewer:t,target:i,kind:a,catalog:n},(function(e){var i=e.toggleInsideCatalog,a=e.isInsideCatalog,t=e.loading,l=n.predefined?(0,h.cm)(n.predefined):n.name;return r.createElement("div",{className:d(E)},r.createElement(b.S,{key:n.id,checked:a,checkboxStyle:"OBVIOUS",onChange:i,disabled:t||n.visibility===S.y_.LOCKED,textScale:"L",clampText:1},l),n.visibility!==S.y_.PUBLIC&&r.createElement(k.a,{paddingLeft:"8px"},r.createElement(I,{className:d(F)})))}))}function O(e){var n=e.target,i=e.kind,a=e.catalogs,t=e.isLoading,d=e.viewer,l=e.fetchMore,o=e.scrollableEl;return t?r.createElement(k.a,{display:"flex",justifyContent:"center",padding:"40px 0"},r.createElement(p.kZ,{color:"DARKER",scale:"L",tag:"div"},r.createElement(y.k,null))):a?r.createElement(N.i,{fetchMore:l,scrollableEl:o},a.map((function(e){return r.createElement(T,{viewer:d,key:e.id,catalog:e,target:n,kind:i})}))):null}function D(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,a)}return i}function A(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?D(Object(i),!0).forEach((function(n){(0,s.A)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):D(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var V={maxHeight:"240px",overflowY:"auto",padding:"24px 20px 16px 24px"};function j(e){var n,i,a,t=e.target,d=e.kind,l=e.showCreateModal,s=e.hidePanel,N=e.viewer,y=e.addToPredefinedLoading,b=r.useRef(null),S=(0,g.l)(),C=(0,u.e1)({limit:u.eB,userId:N.id}),I=(0,f.zF)(),h=(0,o.I)(m.j,{variables:C,skip:y}),P=h.data,w=h.error,E=h.loading,F=h.fetchMore,T=y||E;r.useEffect((function(){w&&I({toastStyle:"RETRYABLE_ERROR",duration:4e3})}),[w]);var D,j=r.useCallback((function(){l(),s()}),[l,s]),_=null==P?void 0:P.catalogsByUser.catalogs;return _&&"Catalog"===(null==P||null===(n=P.readingList)||void 0===n?void 0:n.__typename)&&(_=[P.readingList].concat((0,c.A)(_))),null!=P&&null!==(i=P.catalogsByUser)&&void 0!==i&&null!==(a=i.paging)&&void 0!==a&&a.nextPageCursor&&(D=function(){return F({variables:A(A({},C),{},{pagingOptions:A(A({},C.pagingOptions),{},{cursor:{id:P.catalogsByUser.paging.nextPageCursor.id}})})})}),r.createElement(k.a,{width:"300px"},r.createElement("div",{className:S(V),ref:b},r.createElement(O,{target:t,kind:d,viewer:N,catalogs:_,isLoading:T,fetchMore:D,scrollableEl:b.current})),!T&&r.createElement(k.a,{borderTop:"neutral.primary",padding:"20px 24px 24px"},r.createElement(p.kZ,{color:"ACCENT",scale:"L"},r.createElement(v.N,{onClick:j},"Create new list"))))}var _=i(86595),x=i(88055),L=i.n(x),B=i(95420),M=i(678),R=i(47676),H=i(97249),U={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"useAddItemToPredefinedCatalog_postViewerEdge"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PostViewerEdge"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"catalogsConnection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"predefinedContainingThis"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"catalogId"}},{kind:"Field",name:{kind:"Name",value:"version"}},{kind:"Field",name:{kind:"Name",value:"predefined"}},{kind:"Field",name:{kind:"Name",value:"catalogItemIds"}}]}}]}}]}}]},z={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddToPredefinedCatalog"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"type"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PredefinedCatalogType"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"operation"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PredefinedCatalogAddOperationInput"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addToPredefinedCatalog"},arguments:[{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"Variable",name:{kind:"Name",value:"type"}}},{kind:"Argument",name:{kind:"Name",value:"operation"},value:{kind:"Variable",name:{kind:"Name",value:"operation"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AddToPredefinedCatalogSucces"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"version"}},{kind:"Field",name:{kind:"Name",value:"insertedItem"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"catalogItemId"}},{kind:"Field",name:{kind:"Name",value:"catalogId"}},{kind:"Field",name:{kind:"Name",value:"entity"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]}}]}}]}}]}}]};function K(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,a)}return i}function Q(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?K(Object(i),!0).forEach((function(n){(0,s.A)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):K(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var G,q="temp-catalog-id",Y=i(24960),W=i(85864),Z=i(60603),$={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"AddToCatalogBaseQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isPostKind"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"postResult"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isPostKind"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"AddToCatalogBaseQuery_post"}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"editCatalogItemsMutation_postViewerEdge"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PostViewerEdge"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"catalogsConnection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"catalogsContainingThis"},arguments:[{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"LISTS"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"catalogId"}},{kind:"Field",name:{kind:"Name",value:"version"}},{kind:"Field",name:{kind:"Name",value:"catalogItemIds"}}]}},{kind:"Field",name:{kind:"Name",value:"predefinedContainingThis"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"catalogId"}},{kind:"Field",name:{kind:"Name",value:"predefined"}},{kind:"Field",name:{kind:"Name",value:"version"}},{kind:"Field",name:{kind:"Name",value:"catalogItemIds"}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"useAddItemToPredefinedCatalog_postViewerEdge"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PostViewerEdge"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"catalogsConnection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"predefinedContainingThis"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"catalogId"}},{kind:"Field",name:{kind:"Name",value:"version"}},{kind:"Field",name:{kind:"Name",value:"predefined"}},{kind:"Field",name:{kind:"Name",value:"catalogItemIds"}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"WithToggleInsideCatalog_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"catalogsConnection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"catalogsContainingThis"},arguments:[{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"LISTS"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"catalogId"}}]}},{kind:"Field",name:{kind:"Name",value:"predefinedContainingThis"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"predefined"}}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"AddToCatalogBaseQuery_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"catalogsConnection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"catalogsContainingThis"},arguments:[{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"LISTS"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"catalogId"}},{kind:"Field",name:{kind:"Name",value:"catalogItemIds"}}]}},{kind:"Field",name:{kind:"Name",value:"predefinedContainingThis"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"catalogId"}},{kind:"Field",name:{kind:"Name",value:"predefined"}},{kind:"Field",name:{kind:"Name",value:"catalogItemIds"}}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"editCatalogItemsMutation_postViewerEdge"}},{kind:"FragmentSpread",name:{kind:"Name",value:"useAddItemToPredefinedCatalog_postViewerEdge"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"WithToggleInsideCatalog_post"}}]}}]};function X(){return X=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var a in i)({}).hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},X.apply(null,arguments)}const J=function(e){return r.createElement("svg",X({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),G||(G=r.createElement("path",{fill:"#000",d:"M17.5 1.25a.5.5 0 0 1 1 0v2.5H21a.5.5 0 0 1 0 1h-2.5v2.5a.5.5 0 0 1-1 0v-2.5H15a.5.5 0 0 1 0-1h2.5zm-11 4.5a1 1 0 0 1 1-1H11a.5.5 0 0 0 0-1H7.5a2 2 0 0 0-2 2v14a.5.5 0 0 0 .8.4l5.7-4.4 5.7 4.4a.5.5 0 0 0 .8-.4v-8.5a.5.5 0 0 0-1 0v7.48l-5.2-4a.5.5 0 0 0-.6 0l-5.2 4z"})))};var ee;function ne(){return ne=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var a in i)({}).hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},ne.apply(null,arguments)}const ie=function(e){return r.createElement("svg",ne({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),ee||(ee=r.createElement("path",{fill:"#000",d:"M7.5 3.75a2 2 0 0 0-2 2v14a.5.5 0 0 0 .8.4l5.7-4.4 5.7 4.4a.5.5 0 0 0 .8-.4v-14a2 2 0 0 0-2-2z"})))};var ae=function(e){return{"& path":{fill:e.colorTokens.border.neutral.secondary.base}}},te=function(e){return{"& path":{fill:e.colorTokens.foreground.neutral.primary.hover}}},de=function(){var e=(0,g.l)();return r.createElement(J,{className:e(ae)})},le=function(){var e=(0,g.l)();return r.createElement(ie,{className:e(te)})};function oe(e){return e.insideACatalog?r.createElement(le,null):r.createElement(de,null)}var re=["viewer","defaultToBookmarkIcon"];function se(e){var n=e.children,i=e.isPanelVisible,a=e.hidePanel,t=e.togglePanel,d=e.target,o=e.kind,s=e.viewer,c=e.bookmarkIcon,u=e.isInACatalog,m=e.isInReadingList,k=e.catalogsCount,v=e.popoverDisplay,p=(0,Z.e)(!1),g=(0,l.A)(p,3),f=g[0],N=g[1],y=g[2],b=function(e,n,i,a){var t=(0,R.$L)(),d=(0,B.n)(z,{variables:{type:n,operation:{preprend:{type:a,id:i}}},optimisticResponse:{addToPredefinedCatalog:{__typename:"AddToPredefinedCatalogSucces",version:P.Xj,insertedItem:{__typename:"CatalogItemV2",catalogId:q,catalogItemId:P.ue,entity:{__typename:"Post",id:i}}}},onCompleted:function(e){if("AddToPredefinedCatalogSucces"===e.addToPredefinedCatalog.__typename&&a===S.Bd.POST){var n,i=e.addToPredefinedCatalog.insertedItem;t.event("post.addToList",{listId:i.catalogId,postId:"Post"===(null===(n=i.entity)||void 0===n?void 0:n.__typename)?i.entity.id:void 0})}},update:function(t,d){var l,o=null===(l=d.data)||void 0===l?void 0:l.addToPredefinedCatalog;if("AddToPredefinedCatalogSucces"===(null==o?void 0:o.__typename)){var r,s,c=o.insertedItem,u=o.version;if(c.catalogId!==q&&((0,M.eq)(t,c.catalogId,u),(0,M.VP)(t,c.catalogId,[c.catalogItemId],a)),a===S.Bd.POST){r="PostViewerEdge:".concat((0,H.N)(i,e)),s=U;var m=t.readFragment({id:r,fragment:s});if(null!=m&&m.catalogsConnection){var k=L()(m.catalogsConnection.predefinedContainingThis),v=k.findIndex((function(e){return e.predefined===n}));if(-1!==v)k[v].catalogItemIds.push(c.catalogItemId);else{var p={catalogId:c.catalogId,predefined:n,version:u,catalogItemIds:[c.catalogItemId]};k.push(p)}t.writeFragment({id:r,fragment:s,data:Q(Q({},m),{},{catalogsConnection:Q(Q({},m.catalogsConnection),{},{predefinedContainingThis:k})})})}}}}}),o=(0,l.A)(d,2);return{addToPredefined:o[0],addToPredefinedLoading:o[1].loading}}(s.id,S.cA.READING_LIST,d.id,o),C=b.addToPredefined,I=b.addToPredefinedLoading,h=r.useCallback((function(){t(),m||u||C()}),[t,u,m,C]);return r.createElement(Y.A,{isVisible:i,popoverRenderFn:function(){return r.createElement(j,{showCreateModal:N,hidePanel:a,target:d,kind:o,viewer:s,addToPredefinedLoading:I})},hide:a,targetDistance:15,display:v},r.createElement(_.a,{isVisible:f,hide:y,target:d,kind:o,viewer:s}),null==n?void 0:n({onClick:h,bookmarkIcon:c,catalogsCount:k,isPanelVisible:i}))}function ce(e){var n,i,a,l=e.viewer,s=e.defaultToBookmarkIcon,c=(0,d.A)(e,re),u=r.useMemo((function(){return c.kind===S.Bd.POST?{postId:c.target.id,isPostKind:!0}:{postId:"",isPostKind:!1}}),[c.kind,c.target]),m=(0,o.I)($,{ssr:!1,variables:u}).data,k=null,v=null;"Post"===(null==m||null===(n=m.postResult)||void 0===n?void 0:n.__typename)&&(k=m.postResult.viewerEdge.catalogsConnection,v=m.postResult);var p=(null===(i=k)||void 0===i?void 0:i.catalogsContainingThis)&&k.catalogsContainingThis.length>0,g=r.useMemo((function(){var e,n;return!!(null===(e=k)||void 0===e||null===(n=e.predefinedContainingThis)||void 0===n?void 0:n.find((function(e){return e.predefined===S.cA.READING_LIST})))}),[k]),f=r.useMemo((function(){var e;return((null===(e=k)||void 0===e?void 0:e.catalogsContainingThis.length)||0)+(g?1:0)}),[null===(a=k)||void 0===a?void 0:a.catalogsContainingThis.length,g]),N=r.createElement(oe,{insideACatalog:!!p||g});return u.isPostKind?l&&k&&v?r.createElement(W.B,null,(function(e){var n=e.isVisible,i=e.toggle,a=e.hide;return r.createElement(se,(0,t.A)({},c,{target:v,viewer:l,isPanelVisible:n,togglePanel:i,hidePanel:a,bookmarkIcon:N,isInACatalog:!!p,isInReadingList:g,catalogsCount:f}))})):s||!c.children?N:r.createElement(r.Fragment,null,c.children({onClick:function(){return null},bookmarkIcon:N,catalogsCount:f,isPanelVisible:!1,isDisabled:!0})):null}},62464:(e,n,i)=>{i.d(n,{Q:()=>S});var a=i(58168),t=i(80045),d=i(64467),l=i(96540),o=i(27721),r=i(43634),s=i(28993),c=i(5600),u=i(44402),m=i(42976),k=i(23448),v=i(23496),p=["susiEntry","susiActionUrl","rules","testId","targetDistance"];function g(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,a)}return i}var f=function(e){return{color:e.colorTokens.foreground.neutral.secondary.base,"&:hover":{color:e.colorTokens.foreground.neutral.primary.hover}}},N=function(e,n){return function(i){var a=i.colorTokens.foreground.neutral.primary.hover,t=i.colorTokens.foreground.neutral.secondary.base;return function(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?g(Object(i),!0).forEach((function(n){(0,d.A)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):g(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}({padding:"8px 2px",":hover:not(:disabled) svg path":{fill:n?t:a},":focus svg path":{fill:n?t:a},cursor:n?"not-allowed":"pointer",opacity:n?.3:void 0,"& svg path":{fill:t}},e)}},y="Add to list bookmark button",b=function(e){var n=e.bookmarkIcon,i=e.onClick,a=e.isPanelVisible,t=e.rules,d=e.disabled,o=e.testId;return l.createElement(s.P,{ariaControls:"addToCatalogBookmarkButton",ariaLabel:y,ariaExpanded:a?"true":"false",onClick:i,rules:N(t),disabled:d,testId:o},n)};function S(e){var n=e.susiEntry,i=void 0===n?"list":n,d=e.susiActionUrl,s=e.rules,g=e.testId,S=e.targetDistance,C=void 0===S?10:S,I=(0,t.A)(e,p),h=(0,u.l)(),P=(0,o.R)().value,w=I.kind===m.Bd.POST,E=w?I.target.isPublished:void 0;return w&&!E?l.createElement(c.G,{placement:"top",targetDistance:C,tooltipText:"You cannot Save a draft"},l.createElement("div",{className:h(N(s,!0)),"data-testid":g},l.createElement(k.A,{className:h(f),"aria-label":y,disabled:!0}))):P?l.createElement(c.G,{placement:"top",targetDistance:C,tooltipText:"Save"},l.createElement(v.f,(0,a.A)({},I,{viewer:P}),(function(e){var n=e.onClick,i=e.bookmarkIcon,a=e.isPanelVisible,t=e.isDisabled;return l.createElement(b,{bookmarkIcon:i,onClick:n,isPanelVisible:a,rules:s,disabled:t,testId:g})}))):l.createElement(c.G,{placement:"top",targetDistance:C,tooltipText:"Save"},l.createElement(r.r,{operation:"register",susiEntry:i,actionUrl:d,testId:g,post:w?I.target:void 0},l.createElement(k.A,{className:h([f,s]),"aria-label":y})))}},96783:(e,n,i)=>{i.d(n,{T:()=>r});var a=i(96540),t=i(62464),d=i(42976),l=i(39160),o=i(46879);function r(e){var n=e.post,i=e.susiEntry,r=e.rules,s=e.targetDistance,c=e.testId,u=n.id,m=n.visibility,k=(0,l.d4)((function(e){return e.config.authDomain}));return m===d.dL.UNLISTED?null:a.createElement(t.Q,{kind:d.Bd.POST,target:n,rules:r,susiEntry:i,susiActionUrl:(0,o.are)(k,u),targetDistance:s,testId:c})}},17745:(e,n,i)=>{i.d(n,{f:()=>u});var a=i(64467),t=i(80296),d=i(95420),l=i(96540),o=i(97249),r={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ClapMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"targetPostId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"numClaps"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clap"},arguments:[{kind:"Argument",name:{kind:"Name",value:"targetPostId"},value:{kind:"Variable",name:{kind:"Name",value:"targetPostId"}}},{kind:"Argument",name:{kind:"Name",value:"userId"},value:{kind:"Variable",name:{kind:"Name",value:"userId"}}},{kind:"Argument",name:{kind:"Name",value:"numClaps"},value:{kind:"Variable",name:{kind:"Name",value:"numClaps"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ClapMutation_viewerEdge"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"ClapMutation_post"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"MultiVoteCount_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ClapMutation_viewerEdge"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PostViewerEdge"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"clapCount"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ClapMutation_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"clapCount"}},{kind:"FragmentSpread",name:{kind:"Name",value:"MultiVoteCount_post"}}]}}]};function s(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,a)}return i}function c(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?s(Object(i),!0).forEach((function(n){(0,a.A)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var u=function(){var e=(0,d.n)(r),n=(0,t.A)(e,1)[0];return(0,l.useCallback)((function(e,i,a,t){var d;return n({variables:{targetPostId:e.id,userId:i,numClaps:a},optimisticResponse:{clap:c(c({__typename:"Post"},e),{},{clapCount:(null!==(d=e.clapCount)&&void 0!==d?d:0)+a,viewerEdge:{__typename:"PostViewerEdge",id:(0,o.N)(e.id,i),clapCount:a}})},update:function(n,d){var l,r=null==d||null===(l=d.data)||void 0===l?void 0:l.clap;r&&(n.modify({id:"Post:".concat(r.id),fields:{clapCount:function(){var n;return(null!==(n=e.clapCount)&&void 0!==n?n:0)+a}}}),n.modify({id:"PostViewerEdge:".concat((0,o.N)(r.id,i)),fields:{clapCount:function(){return((null==t?void 0:t.clapCount)||0)+a}}}))}})}),[])}},11517:(e,n,i)=>{i.d(n,{N:()=>l});var a=i(39181),t=i(69547),d={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ClapCountQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"postResult"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"clapCount"}}]}}]}}]}}]},l=function(e){var n=e.post.id,i=(0,a.I)(d,{fetchPolicy:"network-only",nextFetchPolicy:"cache-first",ssr:!1,variables:{postId:n}}),l=i.data,o=i.loading,r=null==l?void 0:l.postResult;return l&&(0,t.t)(r)?{clapCount:r.clapCount,clapCountLoading:o}:{clapCount:null,clapCountLoading:o}}},1722:(e,n,i)=>{i.d(n,{h:()=>d});var a=i(39181),t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PostViewerEdgeQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"clapCount"}},{kind:"Field",name:{kind:"Name",value:"readingList"}},{kind:"Field",name:{kind:"Name",value:"shareKey"}},{kind:"Field",name:{kind:"Name",value:"creatorPartnerProgramEnrollmentStatus"}}]}}]}}]}}]}}]},d=function(e){var n,i=(0,a.I)(t,{variables:{postId:(null==e?void 0:e.id)||""},ssr:!1,skip:!(null!=e&&e.id)}),d=i.loading,l=i.error,o=i.data;return d?{loading:d}:l?{error:l}:{viewerEdge:null==o||null===(n=o.post)||void 0===n?void 0:n.viewerEdge}}},65550:(e,n,i)=>{i.d(n,{L:()=>l});var a=i(80296),t=i(96540),d=i(61333),l=function(){var e=t.useState(!1),n=(0,a.A)(e,2),i=n[0],l=n[1];return t.useEffect((function(){l((0,d.Gz)(navigator.userAgent))}),[]),i}},51771:(e,n,i)=>{function a(e,n,i){return!!n&&e[n.id]||{clapCount:(null==n?void 0:n.clapCount)||0,viewerClapCount:(null==i?void 0:i.clapCount)||0,viewerHasClappedSinceFetch:!1}}i.d(n,{F:()=>a})}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/7938.4f8e1aff.chunk.js.map