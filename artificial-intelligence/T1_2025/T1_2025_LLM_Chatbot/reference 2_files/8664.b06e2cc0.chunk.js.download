"use strict";(self.webpackChunklite=self.webpackChunklite||[]).push([[8664],{11121:(e,t,n)=>{n.d(t,{A:()=>i});var r,a=n(96540);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(null,arguments)}const i=function(e){return a.createElement("svg",o({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),r||(r=a.createElement("path",{fill:"currentColor",d:"M21 4.324v15.352A1.324 1.324 0 0 1 19.676 21H4.324A1.324 1.324 0 0 1 3 19.676V4.324A1.324 1.324 0 0 1 4.324 3h15.352A1.324 1.324 0 0 1 21 4.324M8.295 9.886H5.648v8.478h2.636V9.886zm.221-2.914a1.52 1.52 0 0 0-1.51-1.533H6.96a1.533 1.533 0 0 0 0 3.066 1.52 1.52 0 0 0 1.556-1.487zm9.825 6.236c0-2.555-1.626-3.542-3.229-3.542a3.02 3.02 0 0 0-2.67 1.37h-.082V9.875H9.875v8.477h2.648v-4.494a1.754 1.754 0 0 1 1.579-1.893h.104c.837 0 1.464.523 1.464 1.858v4.54h2.647l.024-5.144z"})))}},7045:(e,t,n)=>{n.d(t,{e:()=>P});var r=n(64467),a=n(96540),o=n(70370),i=n(45458),l=n(3623),c=n(77865),u=n(28072),s=n(44402),p=n(42976),f=n(49728);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d={clear:"both"},m={clear:"both",width:"100%"},v=function(e){var t,n,r=e.layoutGroup,o=e.postBodyInserts,i=(0,s.l)(),p=r.styleGroups[0].paragraphViewModels[0].richTextStyle,h=r.styleGroups.map((function(e,t){var n=t<3;return a.createElement(l.xl,{key:t,styleGroup:e,postBodyInserts:o,loading:n?c.u.EAGER:c.u.LAZY})}));if((0,f.GG)(p)||"INLINE"===p)return a.createElement(a.Fragment,null,h);switch(r.effectiveLayout){case"OUTSET_CENTER":case"OUTSET_ROW":return a.createElement("div",{className:i(d)},a.createElement(u.P,{size:{xs:"full",sm:"full",md:"full",lg:"outset",xl:"outset"}},h));case"FULL_WIDTH":return a.createElement("div",{className:i(m)},h);default:return"FULL_PAGE"===p?a.createElement(u.P,{size:"app"},h):a.createElement("div",{className:i((t=r.effectiveLayout,n={boxSizing:"border-box",margin:"0 auto",width:"100%"},"INSET_CENTER"===t?g(g({},n),{},{maxWidth:"700px",padding:"0 1.25em"}):n))},h)}},E=a.memo(v),y=n(11334),b=n(20239),O={":after":{display:"block",content:'""',clear:"both"}},w=n(90383),x=n(40064);function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k=function(){return{display:"table-cell",paddingBottom:"32px",verticalAlign:"bottom"}};function N(e){var t,n,r,i,l=e.bgImage,c=e.children,u=e.isFullPage,p=e.paragraphName,f=(0,s.l)(),h=(0,b.D)();return l&&l.id&&u?a.createElement(o.B,{name:p,type:"bgimage"},a.createElement("div",{className:f((t=l,n=t.id,r=t.originalWidth,i=t.originalHeight,function(){var e=[400,600,800,1e3,1200,1400,1600,1800,2e3],t={miroId:n,strategy:w.qY.Resample,verticalGradient:{start:29,end:81,opacity:40}},a=e.reduce((function(n,a,o){var l=(0,w.rP)(S(S({},t),{},{width:a,height:a/r*i}));return o===e.length-1?(n.backgroundImage="url(".concat(l,")"),n):(n["@media (min-width: ".concat(a,"px)")]={backgroundImage:"url(".concat(l,")")},n)}),{});return S({backgroundColor:"rgba(0, 0, 0, 0.9)",backgroundPosition:"50% 50%",backgroundSize:"cover",display:"table",minHeight:"100vh",width:"100%"},a)}))},a.createElement("div",{className:f(k)},a.createElement(y.N,{theme:(0,x.lj)(h)},c)))):a.createElement(a.Fragment,null,c)}var P=function(e){var t=e.paragraphViewModels,n=e.postBodyInserts,r=e.section,o=(0,s.l)();if(0===t.length)return null;var c=function(e){var t=[],n=[];e.forEach((function(e){var r=function(e,t){switch(t){case p.p5.INSET_LEFT:case p.p5.OUTSET_LEFT:return"IMG"===e||"IFRAME"===e?p.p5.INSET_CENTER:t;case p.p5.OUTSET_ROW_CONTINUE:return p.p5.OUTSET_ROW;default:return t||p.p5.INSET_CENTER}}(e.paragraphStyle,e.paragraph.layout),a=t[t.length-1];if(a&&a.effectiveLayout===r)n.push(e);else{if(a){var o,c=(0,l._t)(n);(o=a.styleGroups).push.apply(o,(0,i.A)(c))}n.length=0,n.push(e),t.push({styleGroups:[],effectiveLayout:r})}}));var r=t[t.length-1];if(r){var a,o=(0,l._t)(n);(a=r.styleGroups).push.apply(a,(0,i.A)(o))}return t}(t),u=function(e){switch(e){case"SERIES":return{paddingTop:"32px",paddingBottom:"32px",margin:"auto 0",width:"100%"};case"STREAM":case"CARD":case"FULL_PAGE":case"INLINE":return{wordBreak:"break-word",wordWrap:"break-word"};default:return{}}}(t[0].richTextStyle);return a.createElement("div",{className:o([u,O])},a.createElement(N,{bgImage:r.backgroundImage,isFullPage:"FULL_PAGE"===t[0].richTextStyle,paragraphName:t[0].paragraph.name},c.map((function(e,t){return a.createElement(E,{key:t,layoutGroup:e,postBodyInserts:n})}))))}},47043:(e,t,n)=>{n.d(t,{N:()=>X});var r=n(58168),a=n(45458),o=n(96540),i=n(70370),l=n(44402),c={display:"flex",justifyContent:"center",marginTop:"32px",marginBottom:"14px",paddingTop:"24px",paddingBottom:"10px"},u=function(e){return{backgroundColor:e.colorTokens.foreground.neutral.primary.hover,borderRadius:"50%",display:"inline-block",height:"3px",width:"3px"}},s={marginRight:"20px"};function p(){var e=(0,l.l)();return o.createElement("div",{className:e(c),role:"separator"},o.createElement("span",{className:e([u,s])}),o.createElement("span",{className:e([u,s])}),o.createElement("span",{className:e(u)}))}var f=n(7045),h=n(80296),g=n(82284),d=n(23393),m=n(52290),v=n(33154),E=n(20239),y=n(66305);function b(e){var t=e.grid.xStep;return{padding:"".concat(3*t,"px ").concat(4*t,"px ").concat(3*t,"px"),width:"400px"}}function O(e){var t=e.close,n=e.users,r=(0,l.l)(),a=o.useRef(null),i=(0,E.D)(),c=i.grid.xStep;return o.useEffect((function(){function e(){var e=a.current;if(e&&e.getBoundingClientRect){var n=e.getBoundingClientRect(),r=n.bottom,o=n.top<0||r>window.innerHeight,l=window.innerWidth<i.breakpoints.xl;(o||l)&&t()}}return y.R5.on("scroll_end",e),y.R5.on("resize_throttled",e),function(){y.R5.off("scroll_end",e),y.R5.off("resize_throttled",e)}}),[]),o.createElement("section",{ref:a,className:r(b)},o.createElement(m.a,{borderBottom:"neutral.primary",marginBottom:"-".concat(c,"px"),paddingBottom:"".concat(2*c,"px")},o.createElement(v.bz,null,"Highlights (".concat(n.length,")"))),o.createElement(m.a,{marginLeft:"3px"},n.length&&n.map((function(e){return o.createElement(m.a,{display:"inline-block",key:e.id,marginTop:"".concat(5*c,"px"),marginRight:"".concat(5*c,"px"),width:"".concat(8*c,"px")},o.createElement(d.H8,{hasPopover:!0,link:!0,user:e,scale:"XS"}))}))))}var w=o.memo(O),x=n(26552),T=n(19),S=n(86322),k=n(52764),N=n(36557),P=n(12378),R=n(60603),A=n(24023),I=n(30779),_=n(23680),j=n(5863),L=n(5562);function M(){return{border:"none",cursor:"pointer",display:"block",padding:"0px",textAlign:"left",width:"100%",overflow:"hidden"}}function B(){return{left:"100%",position:"absolute",top:0}}function C(e,t){return{marginTop:"2px",maxWidth:"100%",position:"absolute",top:"".concat(e-(t||0),"px"),whiteSpace:"nowrap",width:"100%",display:"flex",alignItems:"center",gap:"8px"}}function G(e){return{marginLeft:"auto",marginRight:"auto",maxWidth:"".concat((0,P.z)(e,8,!0),"px"),position:"relative"}}function F(e,t){return"number"==typeof e.startOffset&&"number"==typeof t.startOffset?e.startOffset<t.startOffset?-1:1:-1}function H(e){return("HighlightGroup"===e.__typename?e.paragraph:e.paragraphs[0]).name}function z(e,t){var n=t.startOffset,r=t.endOffset,a=H(t);if(!a||"number"!=typeof n||"number"!=typeof r)return e;var o=!1,i=e[a]||[];return i.length&&(i=i.map((function(e){var a=n<=e.endOffset+1,i=e.startOffset,l=e.endOffset;return a&&(o=!0,e.highlights.push(t),l=Math.max(r,e.endOffset),i=Math.min(n,e.startOffset)),{highlights:e.highlights,endOffset:l,startOffset:i}}))),o||i.push({highlights:[t],endOffset:r,startOffset:n}),e[a]=i,e}function D(e){var t=e.children,n=e.isTopHighlight,r=e.toggle,a=(0,l.l)();return n?o.createElement(o.Fragment,null,t):o.createElement("button",{className:a(M),onClick:function(){return r()},onMouseDown:function(e){return e.preventDefault()}},t)}function U(e){var t=e.highlightGroup,n=(0,o.useContext)(x.q).highlightSegments.get("".concat(t.paragraph.name,"_").concat(t.startOffset));return o.createElement(I.o,{highlightGroup:t,onMouseEnter:null==n?void 0:n.onMouseEnter,onMouseLeave:null==n?void 0:n.onMouseLeave})}function W(e){var t=e.highlighters,n=e.highlights,r=(0,R.e)(!1),a=(0,h.A)(r,4),i=a[0],l=a[2],c=a[3],u=(0,o.useContext)(x.q).updateHighlightedSegmentIds,s=(0,o.useCallback)((function(){u(n.map((function(e){return"".concat(e.paragraphs[0].name,"_").concat(e.startOffset)})))}),[n,u]),p=(0,o.useCallback)((function(){u([])}),[u]);return o.createElement(o.Fragment,null,o.createElement(D,{toggle:c,isTopHighlight:t.isTopHighlight},o.createElement(N.kZ,{scale:"S"},o.createElement(_.q,{highlighters:t,onMouseEnter:s,onMouseLeave:p}))),i&&o.createElement(T.K,{boundariesElement:"document",isVisible:!0,hide:l,placement:"right",popoverRenderFn:function(){var e=new Set,t=n.map((function(t){var n=t.user;return n&&n.id&&!e.has(n.id)?(e.add(n.id),n):null})).filter(A.se);return o.createElement(w,{close:l,users:t})}},o.createElement(o.Fragment,null)))}function V(e){var t=e.positionMap,n=e.yPosOffset,r=(0,l.l)();if("number"!=typeof n)return null;var a=Array.from(t.entries());return o.createElement(k.c,{nonBlocking:!0},(function(e){return o.createElement(o.Fragment,null,a.map((function(t,a){var i=(0,h.A)(t,2),l=i[0],c=i[1].reduce((function(e,t){return"Quote"===t.__typename?e.highlights.push(t):e.groups.push(t),e}),{highlights:[],groups:[]}),u=c.highlights,s=c.groups,p=(0,_.f)(u,e);return s.length?o.createElement("div",{className:r(C(l,n)),key:a},o.createElement(U,{highlightGroup:s[0]}),u.length>0&&p&&o.createElement(o.Fragment,null,o.createElement(L.d,null),o.createElement(W,{highlighters:p,highlights:u}))):p?o.createElement("div",{className:r(C(l,n)),key:a},o.createElement(W,{highlighters:p,highlights:u})):null})))}))}var q=o.forwardRef((function(e,t){var n=e.highlights,r=o.useContext(x.q).highlightSegments,i=o.useRef(null),c=o.useState(null),u=(0,h.A)(c,2),s=u[0],p=u[1],f=(0,l.l)(),d=(0,E.D)(),v=o.useState(null),b=(0,h.A)(v,2),O=b[0],w=b[1],T=o.useState(null),k=(0,h.A)(T,2),N=k[0],P=k[1],R=(0,j.s)().isSidebarMenuVisible;return o.useEffect((function(){var e=function(){var e=function(e,t,n){var r=new Map;if(e.size&&t.length){var o=function(e){var t=(0,a.A)(e).sort(F).reduce(z,{});return Object.values(t).reduce((function(e,t){return t&&"object"===(0,g.A)(t)&&t.length?(e.push.apply(e,(0,a.A)(t)),e):e}),[])}(t),i=[];o.forEach((function(t){var a=t.highlights[0],o=H(a);if(a&&"number"==typeof a.startOffset&&o){var l=e.get("".concat(o,"_").concat(a.startOffset));if(l&&l.ref&&l.ref.current){var c,u=l.ref.current.getBoundingClientRect().top+window.pageYOffset;i.length&&(c=i.find((function(e){return u<e+n.newFonts.body.lineHeight.M&&u>e||u>e-n.newFonts.body.lineHeight.M&&u<e})));var s=c||u,p=r.get(s)||[];p.length||i.push(s);var f=p.concat(t.highlights);f.length&&r.set(s,f)}}}))}return r}(r,n,d);if(p(e),"function"!=typeof t&&null!=t&&t.current&&P(t.current.offsetTop),null!=i&&i.current){var o=i.current.getBoundingClientRect().left,l=window.innerWidth-o-8*d.grid.xStep;w(l)}};y.R5.on("resize_throttled",e);var o=(0,S.u)((function(t){"iframe.resize"!==t.context&&"player.js"!==t.context||e()})).destructor;return e(),function(){y.R5.off("resize_throttled",e),o()}}),[n,r]),o.createElement("div",{className:f(G)},o.createElement(m.a,{display:{xs:"none",sm:"none",md:"none",lg:"none",xl:R?"none":"block"},speechifyIgnore:!0},o.createElement("aside",{className:f(B),ref:i,style:{width:O?"".concat(O,"px"):void 0}},s&&o.createElement(V,{highlights:n,positionMap:s,yPosOffset:N,width:O}))))})),Y=o.memo(q),Q=n(98503);function Z(e,t){var n;return Object.keys(e).some((function(r){return!!e[r].find((function(e){return e.insertType===t}))&&(n=r,!0)})),n}var K=n(49728),X=(0,o.forwardRef)((function(e,t){var n,c,u=e.bodyModel,s=e.highlights,h=void 0===s?[]:s,g=e.isAuroraPostPageEnabled,d=e.privateNotes,m=e.postBodyInserts,v=e.richTextStyle,E=void 0===v?"FULL_PAGE":v,y=e.highlightGroups,b=(0,l.l)(),O=(0,o.createRef)(),w=null===(n=(0,o.useContext)(i._I).watchedBounds.get("byline"))||void 0===n||null===(c=n.ref)||void 0===c?void 0:c.current,x=w?w.offsetTop-48:100,T={position:"absolute",left:0,top:"calc(100vh + ".concat(x,"px)"),bottom:"calc(100vh + ".concat(100,"px)"),width:"10px",pointerEvents:"none"},S=(0,Q.v)().privateNoteSelection,k=(0,o.useMemo)((function(){return y?[].concat((0,a.A)(h),(0,a.A)(y)):h}),[h,y]),N=(0,o.useMemo)((function(){return S?[].concat((0,a.A)(k),[S]):k}),[k,S]),P=m?function(e){return Z(e,"BYLINE")}(m):void 0,R=m?function(e){return Z(e,"METER")}(m):void 0,A=(0,o.useMemo)((function(){return(0,K.Vg)(u,{bylineParagraphName:P,meterParagraphName:R,highlights:N,isAuroraPostPageEnabled:g,isPostPage:!0,privateNotes:d,richTextStyle:E})}),[u,N,d,E]),I=m&&m.first;return o.createElement("section",{ref:t},o.createElement("div",{ref:O},o.createElement(o.Fragment,null,o.createElement(i.B,{name:"ghost-track",type:"ghost",className:b(T)}),"FULL_PAGE"===E&&k.length>0&&o.createElement(Y,{highlights:(0,a.A)(k),ref:t}),!!I&&I.map((function(e,t){return e.component?o.createElement("div",{key:"postBodyInsertFirst_".concat(t)},e.component):null}))),A.map((function(e,t){if("HR"===e){var n,a,i=A[t-1],l=A[t+1],c="HR"!==i&&(null==i||null===(n=i.section)||void 0===n?void 0:n.backgroundImage),u="HR"!==l&&(null==l||null===(a=l.section)||void 0===a?void 0:a.backgroundImage);return c||u?null:o.createElement(p,{key:t})}return o.createElement(f.e,(0,r.A)({key:e.section.name||t,postBodyInserts:m},e))}))))}))},23406:(e,t,n)=>{n.d(t,{u:()=>r});var r=(0,n(96540).createContext)({addContinueThisThreadSidebar:function(){return null},openSidebar:function(){return null},closeSidebar:function(){return null},inResponseToQuote:void 0,setInResponseToQuote:function(){return null},highlightGroup:void 0,setHighlightGroup:function(){return null}})}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/8664.b06e2cc0.chunk.js.map