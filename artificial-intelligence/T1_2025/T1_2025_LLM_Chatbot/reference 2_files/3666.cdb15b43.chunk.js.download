"use strict";(self.webpackChunklite=self.webpackChunklite||[]).push([[3666],{93666:(e,n,i)=>{i.d(n,{N:()=>P});var a=i(58168),t=i(45458),d=i(80296),l=i(77969),m=i(96540),o=i(92554),k=i(98503),r=i(72944),u=i(2680),s=i(47043),p=i(26552),N=i(64467),g=i(24023);function v(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,a)}return i}function h(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?v(Object(i),!0).forEach((function(n){(0,N.A)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):v(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}function c(e,n,i){if(!e||"number"!=typeof n||"number"!=typeof i)return null;var a=n,t=i;return e.substr(a,t-a)}function S(e,n){return e&&n?e.map((function(e){var i=e.endOffset,a=e.startOffset,t="HighlightGroup"===e.__typename?e.paragraph:e.paragraphs[0],d=function(e,n){return e?n.find((function(n){var i=n.name;return e===i})):null}(t.name,n);if(!t||!d)return null;var l=c(t.text,a,i),m=c(d.text,a,i);if(!l||!m)return null;if(l===m)return e;var o=d.text?d.text.indexOf(l):null;if("number"!=typeof o||o<0)return null;var k=o+l.length,r=h(h({},t),{},{text:d.text});return h(h({},e),{},{endOffset:k,startOffset:o},"HighlightGroup"===e.__typename?{paragraph:r}:{paragraphs:[r]})})).filter(g.se):e}var F=i(27721),y=i(47517),f={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"InteractivePostBodyQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"showNotes"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeHighlightResponseGroups"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"highlights"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"InteractivePostBody_quote"}}]}},{kind:"Field",name:{kind:"Name",value:"privateNotes"},directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"showNotes"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostBody_privateNote"}}]}},{kind:"Field",name:{kind:"Name",value:"topHighlightResponseGroups"},directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"includeHighlightResponseGroups"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"InteractivePostBody_highlightGroup"}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"HighlightString_quote"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Quote"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"userId"}},{kind:"Field",name:{kind:"Name",value:"user"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"SelectionMenuPopover_highlight"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Quote"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"userId"}},{kind:"Field",name:{kind:"Name",value:"paragraphs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"startOffset"}},{kind:"Field",name:{kind:"Name",value:"endOffset"}},{kind:"FragmentSpread",name:{kind:"Name",value:"HighlightString_quote"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ActiveSelectionContext_highlight"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Quote"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SelectionMenuPopover_highlight"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"HighlighSegmentContext_highlight"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Quote"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"endOffset"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"paragraphs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"startOffset"}},{kind:"Field",name:{kind:"Name",value:"userId"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"NormalizeHighlights_paragraph"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Paragraph"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"text"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"NormalizeHighlights_highlight"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Quote"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"endOffset"}},{kind:"Field",name:{kind:"Name",value:"startOffset"}},{kind:"Field",name:{kind:"Name",value:"paragraphs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"NormalizeHighlights_paragraph"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"getParagraphHighlights_paragraph"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Paragraph"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Markups_highlight"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Quote"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"paragraphs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"startOffset"}},{kind:"Field",name:{kind:"Name",value:"endOffset"}},{kind:"Field",name:{kind:"Name",value:"userId"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"TextParagraph_highlight"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Quote"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Markups_highlight"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ImageParagraph_highlight"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Quote"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"Markups_highlight"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PostBodyParagraph_highlight"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Quote"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TextParagraph_highlight"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ImageParagraph_highlight"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"getParagraphHighlights_highlight"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Quote"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"paragraphs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"getParagraphHighlights_paragraph"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostBodyParagraph_highlight"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ParagraphStyleGrouping_highlight"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Quote"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostBodyParagraph_highlight"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ParagraphLayoutGrouping_highlight"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Quote"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ParagraphStyleGrouping_highlight"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PostBodySection_highlight"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Quote"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ParagraphLayoutGrouping_highlight"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"userUrl_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"customDomainState"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"live"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"domain"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"hasSubdomain"}},{kind:"Field",name:{kind:"Name",value:"username"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"UserAvatar_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"imageId"}},{kind:"Field",name:{kind:"Name",value:"membership"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tier"}}]}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PostNotesDetails_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"imageId"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserAvatar_user"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PostNotesMarkers_highlight"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Quote"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"endOffset"}},{kind:"Field",name:{kind:"Name",value:"paragraphs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"startOffset"}},{kind:"Field",name:{kind:"Name",value:"user"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostNotesDetails_user"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"HighlightString_quote"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PostBody_highlight"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Quote"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paragraphs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"getParagraphHighlights_highlight"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostBodySection_highlight"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostNotesMarkers_highlight"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"getParagraphPrivateNotes_privateNote"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Note"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"anchor"}},{kind:"Field",name:{kind:"Name",value:"author"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"Field",name:{kind:"Name",value:"imageId"}},{kind:"Field",name:{kind:"Name",value:"mediumMemberAt"}},{kind:"Field",name:{kind:"Name",value:"membership"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tier"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}}]}},{kind:"Field",name:{kind:"Name",value:"content"}},{kind:"Field",name:{kind:"Name",value:"createdAt"}},{kind:"Field",name:{kind:"Name",value:"postId"}},{kind:"Field",name:{kind:"Name",value:"post"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"replies"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"author"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"Field",name:{kind:"Name",value:"imageId"}},{kind:"Field",name:{kind:"Name",value:"mediumMemberAt"}},{kind:"Field",name:{kind:"Name",value:"membership"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tier"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}}]}},{kind:"Field",name:{kind:"Name",value:"content"}},{kind:"Field",name:{kind:"Name",value:"createdAt"}},{kind:"Field",name:{kind:"Name",value:"noteId"}},{kind:"Field",name:{kind:"Name",value:"postId"}}]}},{kind:"Field",name:{kind:"Name",value:"selectionStartOffset"}},{kind:"Field",name:{kind:"Name",value:"selectionEndOffset"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"normalizedBodyModel_privateNote"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Note"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"getParagraphPrivateNotes_privateNote"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PostViewNoteCard_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserAvatar_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PostViewNoteCard_noteReply"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"NoteReply"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"author"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostViewNoteCard_user"}}]}},{kind:"Field",name:{kind:"Name",value:"content"}},{kind:"Field",name:{kind:"Name",value:"createdAt"}},{kind:"Field",name:{kind:"Name",value:"noteId"}},{kind:"Field",name:{kind:"Name",value:"postId"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PostViewNoteCard_privateNote"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Note"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"author"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostViewNoteCard_user"}}]}},{kind:"Field",name:{kind:"Name",value:"content"}},{kind:"Field",name:{kind:"Name",value:"createdAt"}},{kind:"Field",name:{kind:"Name",value:"postId"}},{kind:"Field",name:{kind:"Name",value:"post"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"replies"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostViewNoteCard_noteReply"}}]}},{kind:"Field",name:{kind:"Name",value:"selectionStartOffset"}},{kind:"Field",name:{kind:"Name",value:"selectionEndOffset"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PostAnnotationsMarker_privateNote"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Note"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostViewNoteCard_privateNote"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"TextParagraph_privateNote"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Note"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostAnnotationsMarker_privateNote"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ImageParagraph_privateNote"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Note"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostAnnotationsMarker_privateNote"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PostBodyParagraph_privateNote"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Note"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TextParagraph_privateNote"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ImageParagraph_privateNote"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ParagraphStyleGrouping_privateNote"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Note"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostBodyParagraph_privateNote"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ParagraphLayoutGrouping_privateNote"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Note"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ParagraphStyleGrouping_privateNote"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PostBodySection_privateNote"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Note"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ParagraphLayoutGrouping_privateNote"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Markups_highlightGroup"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HighlightGroup"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"startOffset"}},{kind:"Field",name:{kind:"Name",value:"endOffset"}},{kind:"Field",name:{kind:"Name",value:"paragraph"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"TextParagraph_highlightGroup"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HighlightGroup"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Markups_highlightGroup"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ImageParagraph_highlightGroup"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HighlightGroup"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"Markups_highlightGroup"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PostBodyParagraph_highlightGroup"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HighlightGroup"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TextParagraph_highlightGroup"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ImageParagraph_highlightGroup"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ParagraphStyleGrouping_highlightGroup"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HighlightGroup"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostBodyParagraph_highlightGroup"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ParagraphLayoutGrouping_highlightGroup"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HighlightGroup"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ParagraphStyleGrouping_highlightGroup"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PostBodySection_highlightGroup"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HighlightGroup"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ParagraphLayoutGrouping_highlightGroup"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"buildQuoteParagraphForResponses_highlightGroup"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HighlightGroup"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"startOffset"}},{kind:"Field",name:{kind:"Name",value:"endOffset"}},{kind:"Field",name:{kind:"Name",value:"paragraph"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"InResponseToQuote_highlightGroup"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HighlightGroup"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"buildQuoteParagraphForResponses_highlightGroup"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"SimpleResponseEditor_highlightGroup"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HighlightGroup"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"InResponseToQuote_highlightGroup"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PublishPostThreadedResponse_highlightGroup"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HighlightGroup"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ResponsesSidebarContext_highlightGroup"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HighlightGroup"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SimpleResponseEditor_highlightGroup"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PublishPostThreadedResponse_highlightGroup"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PostNotesResponsesButton_highlightGroup"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HighlightGroup"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"responseCount"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ResponsesSidebarContext_highlightGroup"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PostNotesMarkers_highlightGroup"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HighlightGroup"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"endOffset"}},{kind:"Field",name:{kind:"Name",value:"startOffset"}},{kind:"Field",name:{kind:"Name",value:"paragraph"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostNotesResponsesButton_highlightGroup"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ResponsesSidebarContext_highlightGroup"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PostBody_highlightGroup"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HighlightGroup"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostBodySection_highlightGroup"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostNotesMarkers_highlightGroup"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"SelectionMenuPopover_highlightGroup"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HighlightGroup"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"paragraph"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"startOffset"}},{kind:"Field",name:{kind:"Name",value:"endOffset"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostNotesResponsesButton_highlightGroup"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ActiveSelectionContext_highlightGroup"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HighlightGroup"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SelectionMenuPopover_highlightGroup"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"InteractivePostBody_quote"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Quote"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ActiveSelectionContext_highlight"}},{kind:"FragmentSpread",name:{kind:"Name",value:"HighlighSegmentContext_highlight"}},{kind:"FragmentSpread",name:{kind:"Name",value:"NormalizeHighlights_highlight"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostBody_highlight"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PostBody_privateNote"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Note"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"normalizedBodyModel_privateNote"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostBodySection_privateNote"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"InteractivePostBody_highlightGroup"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HighlightGroup"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostBody_highlightGroup"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ActiveSelectionContext_highlightGroup"}}]}}]},_=i(69415),P=(0,m.forwardRef)((function(e,n){var i,N,g,v,h=e.isAuroraPostPageEnabled,c=e.post,P=e.inlinePost,G=e.postBodyInserts,C=e.richTextStyle,T=e.markedUpBodyModel,D=(0,F.R)().value,b=P&&!c?T||(null==P||null===(i=P.extendedPreviewContent)||void 0===i?void 0:i.bodyModel):null==c||null===(N=c.content)||void 0===N?void 0:N.bodyModel,O={isAuroraPostPageEnabled:h,postBodyInserts:G,ref:n,richTextStyle:C||"FULL_PAGE",postId:(null==c?void 0:c.id)||""},H=c&&c.creator&&c.creator.allowNotes||!1,B=!(null==c||!c.allowResponses||!c.isPublished||c.isLimitedState),I=(0,l._)(f,{ssr:!1,variables:{postId:(null==c?void 0:c.id)||"",showNotes:H,includeHighlightResponseGroups:B},notifyOnNetworkStatusChange:!0}),M=(0,d.A)(I,2),x=M[0],A=M[1],R=A.called,w=A.data,Q=null==w?void 0:w.post;m.useEffect((function(){c&&!R&&x()}),[c]);var E=(0,_.y)().areHighlightsHidden,V=(null==c||null===(g=c.content)||void 0===g||null===(v=g.bodyModel)||void 0===v?void 0:v.paragraphs)||[],U=(0,m.useMemo)((function(){var e;return E?null==Q||null===(e=Q.highlights)||void 0===e?void 0:e.filter((function(e){return e.userId===(null==D?void 0:D.id)})):null==Q?void 0:Q.highlights}),[null==Q?void 0:Q.highlights,E,D]),j=(0,m.useMemo)((function(){return S(null!=U?U:[],V)}),[U,V]),L=(0,m.useMemo)((function(){var e,n,i=S(null!==(e=null==Q||null===(n=Q.topHighlightResponseGroups)||void 0===n?void 0:n.filter((function(e){return e.responseCount>0})))&&void 0!==e?e:[],V);return E?i.filter((function(e){return!!j.find((function(n){return n.paragraphs[0].name===e.paragraph.name&&e.startOffset===n.startOffset&&e.endOffset===n.endOffset}))})):i}),[E,null==Q?void 0:Q.topHighlightResponseGroups,V,j]);if(!b)return y.v.error("Expected post to have content or preview content."),null;var q=(null==Q?void 0:Q.privateNotes)||null;return m.createElement(u.aB,null,m.createElement(k.R,null,m.createElement(r.k,{interactivePost:c,highlights:j,disableSelection:!c,highlightGroups:L},m.createElement(p.u,{highlights:j&&L?[].concat((0,t.A)(j),(0,t.A)(L)):j,paragraphs:V,viewer:D},m.createElement(o.r.Provider,{value:!0},m.createElement(s.N,(0,a.A)({},O,{bodyModel:b,highlights:j,highlightGroups:L,privateNotes:q})))))))}))}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/3666.cdb15b43.chunk.js.map