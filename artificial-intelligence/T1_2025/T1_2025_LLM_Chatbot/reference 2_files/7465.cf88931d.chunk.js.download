"use strict";(self.webpackChunklite=self.webpackChunklite||[]).push([[7465],{18599:(e,n,i)=>{i.d(n,{a:()=>y,r:()=>w});var l=i(96540),t=i(28899),o=i(87147),a=i(67476),r=i(5562),c=i(52290),d=i(86975),u=i(86527),s=i(36557),m=i(39),p=i(44402),v=i(56774),k=i(51260),f=i(90383),g=i(27715),E=i(60213),S=function(e){return{":hover span":{color:e.colorTokens.foreground.neutral.primary.base}}},b=function(e){return{position:"absolute",height:"42px",width:"100%",top:0,left:0,borderTopLeftRadius:"4px",borderTopRightRadius:"4px",backgroundImage:"url(".concat(e,")"),backgroundRepeat:"no-repeat",backgroundSize:"cover"}},w=5,y=function(e){var n,i,w=e.collection,y=w.name,N=w.description,C=w.customStyleSheet,h=w.slug,I=(0,E.z)(w),D=(0,k.au)()("ShowLiteCollectionFollowers",{collectionSlug:h||""}),x=(0,v.X)({entity:w}),F=(0,m.Z)({name:"heading",scale:"XS",clamp:2,fontWeight:"NORMAL",color:"NORMAL"}),R=(0,p.l)(),A=null!=C&&null!==(n=C.header)&&void 0!==n&&null!==(i=n.backgroundImage)&&void 0!==i&&i.id?(0,f.rP)({miroId:C.header.backgroundImage.id,strategy:f.qY.Resample}):null;return l.createElement(c.a,{width:"280px",display:"flex",flexDirection:"column",padding:"24px",position:"relative",ref:x},!!A&&l.createElement("div",{className:R(b(A))}),l.createElement(c.a,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"flex-end"},l.createElement(t.u,{size:64,collection:w,link:!0,showBorder:!!A}),l.createElement(c.a,null,l.createElement(o.E,{collection:w,buttonSize:"SMALL",buttonStyleFn:function(e){return e?"SUBTLE":"BRAND"},susiEntry:"follow_card"}))),l.createElement(c.a,{marginTop:"12px",display:"flex",flexDirection:"column"},l.createElement(d.D,{href:I},l.createElement(c.a,{display:"flex",flexDirection:"column"},l.createElement("div",{className:R([F,{display:"block"}])},y))),l.createElement(c.a,{marginTop:"4px",display:"flex",flexDirection:"row"},l.createElement(s.kZ,{scale:"S",color:"LIGHTER"},"Publication"),l.createElement(r.d,{margin:"0 8px"}),l.createElement(u.N,{href:D,linkStyle:"SUBTLE",rules:S},l.createElement(s.kZ,{scale:"S",color:"DARKER",tag:"span"},(0,g.Ct)(w.subscriberCount||0)),l.createElement(s.kZ,{scale:"S",tag:"span"},"Â Followers")))),N&&l.createElement(c.a,{paddingTop:"12px"},l.createElement(s.kZ,{scale:"S",color:"DARKER",clamp:4},l.createElement(a.O,{wrapLinks:!0},N))))}},5072:(e,n,i)=>{i.d(n,{E:()=>p});var l=i(58168),t=i(80045),o=i(96540),a=i(29977),r=i(45993),c=i(41299),d=i(86527),u=i(5600),s=i(64122),m=["user","children","testId","popoverDisplay","popoverPlacement"];function p(e){var n=e.user,i=e.children,p=e.testId,v=e.popoverDisplay,k=e.popoverPlacement,f=void 0===k?"top":k,g=(0,t.A)(e,m),E=(0,s.f)(n),S=(0,o.useCallback)((function(){return o.createElement(r.J,{user:n})}),[n]);return o.createElement(c.R,{placement:f,targetDistance:a.f,mouseEnterDelay:u.A,mouseLeaveDelay:100,noArrow:!0,popoverRenderFn:S,display:v},o.createElement(d.N,(0,l.A)({href:E,"data-testid":p},g),i))}},21277:(e,n,i)=>{i.d(n,{T:()=>d,x:()=>u});var l=i(96540),t=i(36469),o=i(88474),a=i(52290),r=i(36557),c=i(5072),d=function(e){var n=e.author,i=e.size;return(0,o.E)(n)?l.createElement(a.a,{marginLeft:"2px",marginTop:"2px"},l.createElement(t.b,{size:i})):null},u=function(e){var n=e.user,i=e.includeVerifiedAuthorBadge,t=e.clamp,o=e.popoverPlacement,a=e.scale,u=void 0===a?"S":a,s=e.badgeSize,m=void 0===s?"S":s,p=e.testId,v=e.color,k=void 0===v?"DARKER":v;return l.createElement(c.E,{user:n,popoverDisplay:"block",popoverPlacement:o,linkStyle:"SUBTLE",inline:!0,display:"flex",rules:{alignItems:"center"},testId:p},l.createElement(r.kZ,{scale:u,color:k,clamp:t},n.name),i&&l.createElement(d,{author:n,size:m}))}},87147:(e,n,i)=>{i.d(n,{E:()=>w});var l=i(80296),t=i(95420),o=i(96540),a=i(54239),r=i(26679),c=i(34208),d=i(2550),u=i(27721),s=i(86329),m=i(43634),p=i(15473),v=i(86527),k=i(99731),f=i(47676),g=i(49287),E=i(51260),S=i(39160),b=i(46879),w=function(e){var n,i=e.addPublicationSuffix,b=e.buttonSize,w=e.buttonStyleFn,N=e.collection,C=e.post,h=e.isLinkStyle,I=void 0!==h&&h,D=e.susiEntry,x=void 0===D?"follow_card":D,F=e.preventParentClick,R=e.width,A=(0,S.d4)((function(e){return e.config.authDomain})),T=(0,d.A)().viewerId,L=(0,u.R)(),z=L.loading,V=L.value,B=(0,f.$L)(),O=(0,g.jI)(),P=(0,a.zy)(),_=(0,E.W5)(P.pathname),U=null==_||null===(n=_.route)||void 0===n?void 0:n.name,Z=(0,s.J)(N),M=Z.viewerEdge,K=Z.loading,W=function(e,n){var i=(0,t.n)(c.j),a=(0,l.A)(i,1)[0];return(0,o.useCallback)((function(){return a({variables:{id:e.id},optimisticResponse:{followCollection:{__typename:"Collection",id:e.id,name:e.name,viewerEdge:{__typename:"CollectionViewerEdge",id:"collectionId:".concat(e.id,"-viewerId:").concat(n),isFollowing:!0}}},update:function(i){i.modify({id:"User:".concat(n),fields:{missionControl:(0,p.A4)("followedCollections",!0),followingCollectionConnection:(0,p.CQ)(e.id)}})}})}),[e.id])}(N,T),j=function(e,n){var i=(0,t.n)(c.E),a=(0,l.A)(i,1)[0];return(0,o.useCallback)((function(){return a({variables:{id:e.id},optimisticResponse:{unfollowCollection:{__typename:"Collection",id:e.id,name:e.name,viewerEdge:{__typename:"CollectionViewerEdge",id:"collectionId:".concat(e.id,"-viewerId:").concat(n),isFollowing:!1}}},update:function(e){e.modify({id:"User:".concat(n),fields:{missionControl:(0,p.A4)("followedCollections",!1)}})}})}),[e.id])}(N,T),J=(0,o.useCallback)((function(e){F&&e.preventDefault(),B.event("collection.followed",{collectionId:N.id,followSource:O,trackingV2:!0,source:O}),W()}),[N,F,O,B]),q=(0,o.useCallback)((function(e){F&&e.preventDefault(),B.event("collection.unfollowed",{collectionId:N.id,followSource:O,trackingV2:!0,source:O}),j()}),[F,O,B]),G=!(null==M||!M.isFollowing),X=w?w(!!G):G?"OBVIOUS":"STRONG";if(z)return null;var $=G?"Following".concat(null!=i&&i.following?" publication":""):"Follow".concat(null!=i&&i.follow?" publication":"");return V?I?o.createElement(v.N,{disabled:K,inline:!K&&!G,linkStyle:G?"SUBTLE":"OBVIOUS",onClick:G?q:J},$):o.createElement(k.$n,{size:b,onClick:G?q:J,buttonStyle:X,loading:K,width:R},$):o.createElement(m.r,{collection:N,isButton:!I,buttonStyle:X,linkStyle:"OBVIOUS",inline:I,buttonSize:b,operation:"register",actionUrl:y(A,N,C)||"",susiEntry:x,pageSource:(0,r.x)(U,"register"),buttonWidth:R},$)},y=function(e,n,i){return n.slug&&(i&&i.id?(0,b.PdS)(e,n.slug,i.id):(0,b.xNA)(e,n.slug))}},43002:(e,n,i)=>{i.d(n,{w:()=>u});var l=i(96540),t=i(18599),o=i(60213),a=i(41299),r=i(86527),c=i(5600),d=i(36557),u=function(e){var n=e.collection,i=e.clamp,u=e.popoverPlacement,s=void 0===u?"bottom":u,m=e.scale,p=void 0===m?"M":m,v=e.testId,k=(0,o.z)(n),f=(0,l.useCallback)((function(){return l.createElement(t.a,{collection:n})}),[n]);return l.createElement(a.R,{placement:s,targetDistance:t.r,mouseLeaveDelay:100,mouseEnterDelay:c.A,popoverRenderFn:f,display:"block",noArrow:!0},l.createElement(r.N,{inline:!0,href:k,linkStyle:"SUBTLE",display:"flex",rules:{alignItems:"center"},"data-testid":v},l.createElement(d.kZ,{scale:p,color:"DARKER",clamp:i},n.name)))}},86329:(e,n,i)=>{i.d(n,{J:()=>o});var l=i(39181),t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CollectionViewerEdge"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"collectionId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"collection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"collectionId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Collection_viewerEdge"}}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Collection_viewerEdge"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CollectionViewerEdge"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"canEditOwnPosts"}},{kind:"Field",name:{kind:"Name",value:"canEditPosts"}},{kind:"Field",name:{kind:"Name",value:"isEditor"}},{kind:"Field",name:{kind:"Name",value:"isFollowing"}},{kind:"Field",name:{kind:"Name",value:"isMuting"}},{kind:"Field",name:{kind:"Name",value:"isSubscribedToLetters"}},{kind:"Field",name:{kind:"Name",value:"isSubscribedToMediumNewsletter"}},{kind:"Field",name:{kind:"Name",value:"isSubscribedToEmails"}},{kind:"Field",name:{kind:"Name",value:"isWriter"}}]}}]},o=function(e){var n,i,o=(0,l.I)(t,{variables:{collectionId:null!==(n=null==e?void 0:e.id)&&void 0!==n?n:""},ssr:!1,skip:!(null!=e&&e.id)}),a=o.loading,r=o.error,c=o.data;return a?{loading:a}:r?{error:r}:{viewerEdge:null==c||null===(i=c.collection)||void 0===i?void 0:i.viewerEdge}}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/7465.cf88931d.chunk.js.map