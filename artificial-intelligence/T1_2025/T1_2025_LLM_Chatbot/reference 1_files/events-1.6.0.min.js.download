$smcT5.TrackerV2.plugin=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=16)}([function(t,e,n){"use strict";n.r(e),function(t){var r=n(9),i=setTimeout;function o(t){return Boolean(t&&void 0!==t.length)}function a(){}function c(t){if(!(this instanceof c))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],d(t,this)}function s(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,c._immediateFn(function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(t){return void f(e.promise,t)}u(e.promise,r)}else(1===t._state?u:f)(e.promise,t._value)})):t._deferreds.push(e)}function u(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof c)return t._state=3,t._value=e,void l(t);if("function"==typeof n)return void d(function(t,e){return function(){t.apply(e,arguments)}}(n,e),t)}t._state=1,t._value=e,l(t)}catch(e){f(t,e)}}function f(t,e){t._state=2,t._value=e,l(t)}function l(t){2===t._state&&0===t._deferreds.length&&c._immediateFn(function(){t._handled||c._unhandledRejectionFn(t._value)});for(var e=0,n=t._deferreds.length;e<n;e++)s(t,t._deferreds[e]);t._deferreds=null}function d(t,e){var n=!1;try{t(function(t){n||(n=!0,u(e,t))},function(t){n||(n=!0,f(e,t))})}catch(t){if(n)return;n=!0,f(e,t)}}c.prototype.catch=function(t){return this.then(null,t)},c.prototype.then=function(t,e){var n=new this.constructor(a);return s(this,new function(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}(t,e,n)),n},c.prototype.finally=r.a,c.all=function(t){return new c(function(e,n){if(!o(t))return n(new TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(t);if(0===r.length)return e([]);var i=r.length;function a(t,o){try{if(o&&("object"==typeof o||"function"==typeof o)){var c=o.then;if("function"==typeof c)return void c.call(o,function(e){a(t,e)},n)}r[t]=o,0==--i&&e(r)}catch(t){n(t)}}for(var c=0;c<r.length;c++)a(c,r[c])})},c.resolve=function(t){return t&&"object"==typeof t&&t.constructor===c?t:new c(function(e){e(t)})},c.reject=function(t){return new c(function(e,n){n(t)})},c.race=function(t){return new c(function(e,n){if(!o(t))return n(new TypeError("Promise.race accepts an array"));for(var r=0,i=t.length;r<i;r++)c.resolve(t[r]).then(e,n)})},c._immediateFn="function"==typeof t&&function(e){t(e)}||function(t){i(t,0)},c._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},e.default=c}.call(this,n(13).setImmediate)},function(t,e,n){"use strict";e.__esModule=!0;var r=Date.now(),i=(new Date).getTime(),o=!0,a=0;e.currentOffset=a;e.ModDateNow=function(){return o?Date.now()-a:(new Date).getTime()-a};e.ModDate=function(){return new Date((new Date).getTime()-a)},("number"!=typeof r||Math.abs(i-r)<10)&&(o=!1);e.updateCurrentDate=function(t){e.currentOffset=a=(new Date).getTime()-new Date(t).getTime()}},function(t,e,n){t.exports=function(){var t=t||function(t,e){var n=Object.create||function(){function t(){}return function(e){var n;return t.prototype=e,n=new t,t.prototype=null,n}}(),r={},i=r.lib={},o=i.Base={extend:function(t){var e=n(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},a=i.WordArray=o.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=void 0!=e?e:4*t.length},toString:function(t){return(t||s).stringify(this)},concat:function(t){var e=this.words,n=t.words,r=this.sigBytes,i=t.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++){var a=n[o>>>2]>>>24-o%4*8&255;e[r+o>>>2]|=a<<24-(r+o)%4*8}else for(var o=0;o<i;o+=4)e[r+o>>>2]=n[o>>>2];return this.sigBytes+=i,this},clamp:function(){var e=this.words,n=this.sigBytes;e[n>>>2]&=4294967295<<32-n%4*8,e.length=t.ceil(n/4)},clone:function(){var t=o.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var n,r=[],i=function(e){var e=e,n=987654321,r=4294967295;return function(){var i=((n=36969*(65535&n)+(n>>16)&r)<<16)+(e=18e3*(65535&e)+(e>>16)&r)&r;return i/=4294967296,(i+=.5)*(t.random()>.5?1:-1)}},o=0;o<e;o+=4){var c=i(4294967296*(n||t.random()));n=987654071*c(),r.push(4294967296*c()|0)}return new a.init(r,e)}}),c=r.enc={},s=c.Hex={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i++){var o=e[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n[r>>>3]|=parseInt(t.substr(r,2),16)<<24-r%8*4;return new a.init(n,e/2)}},u=c.Latin1={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i++){var o=e[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r++)n[r>>>2]|=(255&t.charCodeAt(r))<<24-r%4*8;return new a.init(n,e)}},f=c.Utf8={stringify:function(t){try{return decodeURIComponent(escape(u.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return u.parse(unescape(encodeURIComponent(t)))}},l=i.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=f.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var n=this._data,r=n.words,i=n.sigBytes,o=this.blockSize,c=4*o,s=i/c,u=(s=e?t.ceil(s):t.max((0|s)-this._minBufferSize,0))*o,f=t.min(4*u,i);if(u){for(var l=0;l<u;l+=o)this._doProcessBlock(r,l);var d=r.splice(0,u);n.sigBytes-=f}return new a.init(d,f)},clone:function(){var t=o.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),d=(i.Hasher=l.extend({cfg:o.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){l.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){t&&this._append(t);var e=this._doFinalize();return e},blockSize:16,_createHelper:function(t){return function(e,n){return new t.init(n).finalize(e)}},_createHmacHelper:function(t){return function(e,n){return new d.HMAC.init(t,n).finalize(e)}}}),r.algo={});return r}(Math);return t}()},function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0;var o=i(n(15)),a=i(n(8)),c=i(n(0)),s=n(1),u=n(6),f=n(4),l={AccessKeyId:null,SecretKey:null,SessionToken:null,region:null};e.RequesterSetup=function(t){var e=t.AccessKeyId,n=t.SecretKey,r=t.SessionToken,i=t.region,o=t.IdentityId;l={AccessKeyId:e,SecretKey:n,SessionToken:r,region:i},d({IdentityId:o,region:i})};var d=function(t){var e=t.region,n=t.IdentityId;setTimeout(function(){u.getCredentials({IdentityId:n,refresh:!0}).then(function(t){var n=t.Credentials,i=t.IdentityId;l=r({},n,{region:e}),d({IdentityId:i,region:e})}).catch(function(t){f.setUseFallbackEventHandler()})},18e5)},h=function(t,e){void 0===e&&(e=!1);var n=s.ModDate(),i=[n.getUTCFullYear(),("0"+(n.getUTCMonth()+1)).slice(-2),("0"+n.getUTCDate()).slice(-2),"T",("0"+n.getUTCHours()).slice(-2),("0"+n.getUTCMinutes()).slice(-2),("0"+n.getUTCSeconds()).slice(-2),"Z"].join(""),c=i.substr(0,8),u=t.region||l.region||"eu-west-1",f=t.service||"firehose",d="string"==typeof t.path?t.path:"/";d="/"===d.charAt(0)?d:"/"+d;var h="string"==typeof t.method?t.method.toUpperCase():"POST",v="object"==typeof t.query?t.query:{},y=Object.keys(v).map(function(t){return t+"="+v[t]}).join("&");y=""!==y?"?"+y:"";var m=f+"."+u+".amazonaws.com",g=t.target,_="https://"+m+d+y,w=JSON.stringify("object"==typeof t.body?t.body:{}),I=a.default(w).toString(),b=c+"/"+u+"/"+f+"/aws4_request",T={host:m,"x-amz-date":i,"x-amz-security-token":l.SessionToken,"x-amz-target":g},S=Object.keys(T).join(";"),O=h+"\n"+d+"\n"+y+"\n"+Object.keys(T).map(function(t){return t+":"+T[t]}).join("\n")+"\n\n"+S+"\n"+I,M="AWS4-HMAC-SHA256\n"+i+"\n"+b+"\n"+a.default(O).toString(),k=o.default(c,"AWS4"+l.SecretKey),A=o.default(u,k),E=o.default(f,A),C=o.default("aws4_request",E),j=o.default(M,C).toString(),D={Authorization:"AWS4-HMAC-SHA256 Credential="+l.AccessKeyId+"/"+b+", SignedHeaders="+S+", Signature="+j,"content-type":"application/x-amz-json-1.1"},x=r({},T,D);return p({detailsInput:t,isRetry:e,url:_,body:w,method:h,headers:Object.keys(x).map(function(t){return{name:t,value:x[t]}})})};e.makeSignedRequest=h;var p=function(t){var e=t.body,n=t.method,r=void 0===n?"POST":n,i=t.url,o=t.headers,a=t.isRetry,u=void 0!==a&&a,f=t.detailsInput;return new c.default(function(t,n){var a=new XMLHttpRequest;a.open(r,i),o.filter(function(t){var e=t.name;return-1===["host"].indexOf(e)}).forEach(function(t){return a.setRequestHeader(t.name,t.value)}),a.timeout=4e3,a.onload=function(){try{if(s.updateCurrentDate(a.getResponseHeader("date")),a.status>=100&&a.status<400)t(JSON.parse(a.responseText||"{}"));else{if(u||400!==a.status||!JSON.parse(a.responseText).message.substr(0,"Signature expired".length))throw"HTTP request failed";h(f,!0).then(t)}}catch(t){n(t)}},a.ontimeout=function(t){n(t)},a.onerror=function(t){n(t)},a.send(e)})};e.makeRequest=p},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0;var i,o,a=n(1),c=n(3),s=r(n(10)),u=[],f=[],l=[],d=[],h=[],p=!1,v=!1;e.DeliveryStreamName=o;var y=50,m=!1,g=!1,_="",w={};e.setFingerprintProps=function(t){return w=t};e.setUIdentityId=function(t){return _=t};e.setReady=function(){return v=!0};e.setDeliveryStreamName=function(t){return e.DeliveryStreamName=o=t};e.setFallbackEventHandler=function(t){return i=t};e.setUseFallbackEventHandler=function(){return p=!0};var I=function(){if(v){if(u.length){for(var t=0;t<u.length;t++){var e=u[t].payload;if(e.iid=_,e.bto=a.currentOffset,navigator&&(e.ua=navigator.userAgent||""),w)for(var n in w)w.hasOwnProperty(n)&&(e[n]=w[n])}if(p){for(t=0;t<u.length;t++)i(u[t]);u=[],b()}else{var r=[];for(t=0;t<u.length;t++){var f=JSON.stringify(u[t].payload),l=s.default.encode(f),d=btoa(l);r.push({Data:d})}c.makeSignedRequest({target:"Firehose_20150804.PutRecordBatch",body:{DeliveryStreamName:o,Records:r}}).then(function(t){u=[],b()}).catch(function(t){p=!0,m||(m=!0,I())})}}}else--y>0&&setTimeout(function(){I()},100)},b=function(){for(var t=0;t<h.length;t++)h[t]();h=[]},T=function(){for(var t=0;t<d.length;t++)d[t]();d=[]};e.addOverlayEvent=function(t){"object"!=typeof t.payload&&(t.payload={}),t.payload.etm=a.ModDateNow(),t.payload.mtd="D",t.payload.odc=JSON.stringify([]),u.push(t),t.callback&&"function"==typeof t.callback&&h.push(t.callback),I()};var S=function(t){if(v){if(f.length)if(p){for(var e=0;e<f.length;e++)i(f[e]);f=[],b()}else{var n=[];for(e=0;e<f.length;e++){var r=JSON.stringify(f[e].payload),o=s.default.encode(r),a=btoa(o);n.push({Data:a})}c.makeSignedRequest({target:"Firehose_20150804.PutRecordBatch",body:{DeliveryStreamName:t,Records:n}}).then(function(t){f=[],b()}).catch(function(t){p=!0,m||(m=!0,I())})}}else--y>0&&setTimeout(function(){S(t)},100)};e.addPushsiteEvent=function(t,e){"object"!=typeof t.payload&&(t.payload={}),t.payload.etm=a.ModDateNow(),t.payload.mtd="D",t.payload.odc=JSON.stringify([]),f.push(t),S(e)};var O=function(t){if(v){if(l.length)if(p){for(var e=0;e<l.length;e++)i(l[e]);l=[],T()}else{var n=[];for(e=0;e<l.length;e++){var r=JSON.stringify(l[e].payload),o=s.default.encode(r),a=btoa(o);n.push({Data:a})}c.makeSignedRequest({target:"Firehose_20150804.PutRecordBatch",body:{DeliveryStreamName:t,Records:n}}).then(function(t){l=[],T()}).catch(function(e){p=!0,g||(g=!0,O(t))})}}else--y>0&&setTimeout(function(){O(t)},100)};e.addMachineLearningEvent=function(t,e){"object"!=typeof t.payload&&(t.payload={}),t.payload.etm=a.ModDateNow(),t.payload.mtd="D",l.push(t),t.callback&&"function"==typeof t.callback&&d.push(t.callback),O(e)}},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0;var i,o,a=n(1),c=r(n(0)),s="smc_lse_iframe";!function(t){t.LOCALSTORAGE="L",t.XDOMAIN="C",t.MEMORY="M",t.FAILED="F"}(i||(i={}));var u={},f={};e.setter=function(t,e){return new c.default(function(n,r){d().then(function(r){var o={action:"set",name:t,string:btoa(JSON.stringify(e))};switch(r){case i.XDOMAIN:l(o);break;case i.LOCALSTORAGE:localStorage.setItem(o.name,o.string);break;case i.MEMORY:f[o.name]=o.string}n()}).catch(r)})};var l=function(t){var e=window.frames[s];return!!e&&(e.postMessage(t,"*"),!0)};e.getter=function(t){return new c.default(function(e,n){d().then(function(r){switch(r){case i.XDOMAIN:var o=a.ModDateNow();u[o]={resolver:e,rejectId:setTimeout(function(){n({error:"No response from iFrame within 0.5s: "+t})},500)},l({action:"get",name:t,id:o});break;case i.LOCALSTORAGE:e(localStorage.getItem(t));break;case i.MEMORY:e(f[t]),delete f[t]}}).catch(n)})};e.deleter=function(t){var e={action:"remove",name:t};l(e)||localStorage.removeItem(e.name)};var d=function(){return new c.default(function(t,e){o?t(o):h().then(function(e){t(o=e)})})},h=function(){return new c.default(function(t){try{var e=void 0;(e=document.createElement("iframe")).setAttribute("src","https://d2d7do8qaecbru.cloudfront.net/live/lse1.1.html"),e.setAttribute("id",s),e.setAttribute("name",s),e.setAttribute("style","visibility:hidden;width:0;height:0;position:fixed;bottom:-10px;right:-10px;"),document.getElementsByTagName("body")[0].appendChild(e),e.onload=function(){t(i.XDOMAIN)},e.onerror=function(){throw"No iFrame allowed"},window.addEventListener("message",function(t){if(void 0!==t.data&&"callback"===t.data.action&&"object"==typeof u[t.data.id]){var e={};try{e=t.data.data?JSON.parse(atob(t.data.data)):{}}catch(t){}u[t.data.id].resolver(e),clearTimeout(u[t.data.id].rejectId)}void 0!==t.data&&t.data.action})}catch(e){!function(){var t="smc_test_ls";try{return localStorage.setItem(t,t),localStorage.removeItem(t),!0}catch(t){return!1}}()?t(i.MEMORY):t(i.LOCALSTORAGE)}})};setTimeout(function(){new c.default(function(t){d().then(function(t){if(t!==i.XDOMAIN)throw t;l({action:"all"})}).catch(t)}).then(function(t){return console.log("data",t)})},2e3);e.getMode=function(){return o||""}},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0;var i,o=n(5),a=r(n(0)),c=n(3);e.region=i;var s=function(){return"https://cognito-identity."+i+".amazonaws.com"},u={content:{name:"Content-Type",value:"application/x-amz-json-1.1"},targetGetId:{name:"X-AMZ-TARGET",value:"AWSCognitoIdentityService.GetId"},targetGetCreds:{name:"X-AMZ-TARGET",value:"AWSCognitoIdentityService.GetCredentialsForIdentity"}},f=function(t){var e=t.IdentityId,n=t.refresh,r=void 0!==n&&n;if(!e)throw"No identity";return r?l({IdentityId:e}):o.getter("smc_credential").then(function(t){var n=t.Credentials;if(n&&n.Expiration&&Date.now()<1e3*n.Expiration&&Date.now()>1e3*n.Expiration-366e4)return{IdentityId:e,Credentials:n};throw"No local credentials"}).catch(function(t){return l({IdentityId:e})})};e.getCredentials=f;var l=function(t){var e=t.IdentityId;return c.makeRequest({url:s(),body:JSON.stringify({IdentityId:e}),headers:[u.content,u.targetGetCreds]}).then(function(t){var n=t.Credentials;if(!n)throw"No credentials";return o.setter("smc_credential",{Credentials:n}),{IdentityId:e,Credentials:n}})},d=function(t){var e=t.setupIdentityPoolId,n=t.resolver,r=t.rejecter;(function(t){return c.makeRequest({url:s(),body:JSON.stringify({IdentityPoolId:t}),headers:[u.content,u.targetGetId]}).then(function(e){var n=e.IdentityId;return o.setter("smc_identity",{IdentityId:n,IdentityPoolId:t}),{IdentityId:n}})})(e).then(function(t){var e=t.IdentityId;f({IdentityId:e}).then(n)}).catch(r)};e.initialise=function(t,n){return new a.default(function(r,a){e.region=i=n,o.getter("smc_identity").then(function(e){var n=e.IdentityId,i=e.IdentityPoolId;"string"==typeof n&&i===t?f({IdentityId:n}).then(r).catch(function(e){d({resolver:r,setupIdentityPoolId:t,rejecter:a})}):d({resolver:r,setupIdentityPoolId:t,rejecter:a})}).catch(a)})}},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){t.exports=function(t){return function(e){var n=t,r=n.lib,i=r.WordArray,o=r.Hasher,a=n.algo,c=[],s=[];!function(){function t(t){for(var n=e.sqrt(t),r=2;r<=n;r++)if(!(t%r))return!1;return!0}function n(t){return 4294967296*(t-(0|t))|0}for(var r=2,i=0;i<64;)t(r)&&(i<8&&(c[i]=n(e.pow(r,.5))),s[i]=n(e.pow(r,1/3)),i++),r++}();var u=[],f=a.SHA256=o.extend({_doReset:function(){this._hash=new i.init(c.slice(0))},_doProcessBlock:function(t,e){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],a=n[3],c=n[4],f=n[5],l=n[6],d=n[7],h=0;h<64;h++){if(h<16)u[h]=0|t[e+h];else{var p=u[h-15],v=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,y=u[h-2],m=(y<<15|y>>>17)^(y<<13|y>>>19)^y>>>10;u[h]=v+u[h-7]+m+u[h-16]}var g=r&i^r&o^i&o,_=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),w=d+((c<<26|c>>>6)^(c<<21|c>>>11)^(c<<7|c>>>25))+(c&f^~c&l)+s[h]+u[h];d=l,l=f,f=c,c=a+w|0,a=o,o=i,i=r,r=w+(_+g)|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+c|0,n[5]=n[5]+f|0,n[6]=n[6]+l|0,n[7]=n[7]+d|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=e.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});n.SHA256=o._createHelper(f),n.HmacSHA256=o._createHmacHelper(f)}(Math),t.SHA256}(n(2))},function(t,e,n){"use strict";e.a=function(t){var e=this.constructor;return this.then(function(n){return e.resolve(t()).then(function(){return n})},function(n){return e.resolve(t()).then(function(){return e.reject(n)})})}},function(t,e,n){!function(t){var e,n,r,i=String.fromCharCode;function o(t){for(var e,n,r=[],i=0,o=t.length;i<o;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<o?56320==(64512&(n=t.charCodeAt(i++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),i--):r.push(e);return r}function a(t){if(t>=55296&&t<=57343)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function c(t,e){return i(t>>e&63|128)}function s(t){if(0==(4294967168&t))return i(t);var e="";return 0==(4294965248&t)?e=i(t>>6&31|192):0==(4294901760&t)?(a(t),e=i(t>>12&15|224),e+=c(t,6)):0==(4292870144&t)&&(e=i(t>>18&7|240),e+=c(t,12),e+=c(t,6)),e+=i(63&t|128)}function u(){if(r>=n)throw Error("Invalid byte index");var t=255&e[r];if(r++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function f(){var t,i;if(r>n)throw Error("Invalid byte index");if(r==n)return!1;if(t=255&e[r],r++,0==(128&t))return t;if(192==(224&t)){if((i=(31&t)<<6|u())>=128)return i;throw Error("Invalid continuation byte")}if(224==(240&t)){if((i=(15&t)<<12|u()<<6|u())>=2048)return a(i),i;throw Error("Invalid continuation byte")}if(240==(248&t)&&(i=(7&t)<<18|u()<<12|u()<<6|u())>=65536&&i<=1114111)return i;throw Error("Invalid UTF-8 detected")}t.version="3.0.0",t.encode=function(t){for(var e=o(t),n=e.length,r=-1,i="";++r<n;)i+=s(e[r]);return i},t.decode=function(t){e=o(t),n=e.length,r=0;for(var a,c=[];!1!==(a=f());)c.push(a);return function(t){for(var e,n=t.length,r=-1,o="";++r<n;)(e=t[r])>65535&&(o+=i((e-=65536)>>>10&1023|55296),e=56320|1023&e),o+=i(e);return o}(c)}}(e)},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function c(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var s,u=[],f=!1,l=-1;function d(){f&&s&&(f=!1,s.length?u=s.concat(u):l=-1,u.length&&h())}function h(){if(!f){var t=c(d);f=!0;for(var e=u.length;e;){for(s=u,u=[];++l<e;)s&&s[l].run();l=-1,e=u.length}s=null,f=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function v(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new p(t,e)),1!==u.length||f||c(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var r,i=1,o={},a=!1,c=t.document,s=Object.getPrototypeOf&&Object.getPrototypeOf(t);s=s&&s.setTimeout?s:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick(function(){f(t)})}:function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?function(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(e)&&f(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),r=function(n){t.postMessage(e+n,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){f(t.data)},r=function(e){t.port2.postMessage(e)}}():c&&"onreadystatechange"in c.createElement("script")?function(){var t=c.documentElement;r=function(e){var n=c.createElement("script");n.onreadystatechange=function(){f(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}():r=function(t){setTimeout(f,0,t)},s.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var a={callback:t,args:e};return o[i]=a,r(i),i++},s.clearImmediate=u}function u(t){delete o[t]}function f(t){if(a)setTimeout(f,0,t);else{var e=o[t];if(e){a=!0;try{!function(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(n,r)}}(e)}finally{u(t),a=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(7),n(11))},function(t,e,n){(function(t){var r=void 0!==t&&t||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(12),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(7))},function(t,e,n){t.exports=function(t){!function(){var e=t,n=e.lib,r=n.Base,i=e.enc,o=i.Utf8,a=e.algo;a.HMAC=r.extend({init:function(t,e){t=this._hasher=new t.init,"string"==typeof e&&(e=o.parse(e));var n=t.blockSize,r=4*n;e.sigBytes>r&&(e=t.finalize(e)),e.clamp();for(var i=this._oKey=e.clone(),a=this._iKey=e.clone(),c=i.words,s=a.words,u=0;u<n;u++)c[u]^=1549556828,s[u]^=909522486;i.sigBytes=a.sigBytes=r,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher,n=e.finalize(t);e.reset();var r=e.finalize(this._oKey.clone().concat(n));return r}})}()}(n(2))},function(t,e,n){t.exports=function(t){return t.HmacSHA256}(n(2),n(8),n(14))},function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0;var o=n(3),a=i(n(0)),c=n(6),s=n(4),u=n(5);e.start=function(t){var e=t.IdentityPoolId,n=t.callback,i=t.fallbackEvent;t.doFingerprint;try{s.setFallbackEventHandler(i);var a=e.split(":")[0];s.setDeliveryStreamName(e.split(":")[1]),c.initialise(e,a).then(function(t){var e=t.Credentials,i=t.IdentityId;return s.setUIdentityId(i.split(":")[1]),o.RequesterSetup(r({},e,{region:a,IdentityId:i})),s.setReady(),n(),u.getter("smc-fp")}).then(function(t){var e=t.fp;return e&&e.fph?{fp:e}:f()}).then(function(t){var e=t.fp;return u.setter("smc-fp",{fp:e}),{fp:e}}).then(function(t){var e=t.fp;e&&s.setFingerprintProps(e)}).catch(function(t){l(t)})}catch(t){l(t)}};var f=function(){return new a.default(function(t){var e={};try{if(!(function(){try{for(var t=decodeURIComponent(document.cookie).split(";"),e=0;e<t.length;e++){var n=t[e].trim();if(0==n.indexOf("smc_tpv="))return parseInt(n.substring("smc_tpv=".length,n.length))||0}}catch(t){}return 0}()>1))return void t({fp:e});for(var n=document.createElement("script"),r=document.getElementsByTagName("script"),i=0;i<r.length;i++)r[i].src.match(/events-[0-9]*.[0-9]*.[0-9]*.min.js/)&&(n.src=r[i].src.replace("events","fp"));document.getElementsByTagName("head")[0].appendChild(n);var o=setTimeout(function(){t({fp:e})},500);n.onload=function(){clearTimeout(o),$smcT5&&$smcT5.TrackerV2&&$smcT5.TrackerV2.fingerprint&&"function"==typeof $smcT5.TrackerV2.fingerprint.make&&$smcT5.TrackerV2.fingerprint.make().then(t)},n.onerror=function(){clearTimeout(o),t({fp:e})}}catch(n){t({fp:e})}})},l=function(t){s.setUseFallbackEventHandler(),s.setReady()};e.event=function(t){switch(t.type){case"overlay":s.addOverlayEvent(t);break;case"pushsite":s.addPushsiteEvent(t,"pushsite-sessions");break;case"machineLearning":s.addMachineLearningEvent(t,"ml-delivery-stream")}}}]);
//# sourceMappingURL=events-1.6.0.min.js.map