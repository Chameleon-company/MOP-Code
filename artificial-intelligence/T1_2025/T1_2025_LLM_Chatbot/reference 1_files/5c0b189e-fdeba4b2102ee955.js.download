!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="908b562e-c35e-4bb4-8fd7-bb2f57aa85d4",e._sentryDebugIdIdentifier="sentry-dbid-908b562e-c35e-4bb4-8fd7-bb2f57aa85d4")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[86342],{93075:function(e,t,n){let r;n.d(t,{JA:function(){return C},KK:function(){return eI},NI:function(){return eA},XI:function(){return B},Y$:function(){return P},YF:function(){return eM},bQ:function(){return ex},c0:function(){return eN},eS:function(){return eh},qs:function(){return e_},vs:function(){return L},wD:function(){return ep},y0:function(){return ey}});var u,o=n(67294),l=n(97145),i=n(71347),c=n(37317),f=n(88388);n(73935);var a=n(1371);let s={...u||(u=n.t(o,2))},d=s.useInsertionEffect||(e=>e());function v(e){let t=o.useRef(()=>{});return d(()=>{t.current=e}),o.useCallback(function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return null==t.current?void 0:t.current(...n)},[])}let m="ArrowUp",p="ArrowDown",g="ArrowLeft",E="ArrowRight";function y(e,t,n){return Math.floor(e/t)!==n}function b(e,t){return t<0||t>=e.current.length}function h(e,t){return k(e,{disabledIndices:t})}function w(e,t){return k(e,{decrement:!0,startingIndex:e.current.length,disabledIndices:t})}function k(e,t){let{startingIndex:n=-1,decrement:r=!1,disabledIndices:u,amount:o=1}=void 0===t?{}:t,l=e.current,i=n;do i+=r?-o:o;while(i>=0&&i<=l.length-1&&R(l,i,u));return i}function R(e,t,n){if(n)return n.includes(t);let r=e[t];return null==r||r.hasAttribute("disabled")||"true"===r.getAttribute("aria-disabled")}var x="undefined"!=typeof document?o.useLayoutEffect:o.useEffect;function M(e,t){let n=e.compareDocumentPosition(t);return n&Node.DOCUMENT_POSITION_FOLLOWING||n&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:n&Node.DOCUMENT_POSITION_PRECEDING||n&Node.DOCUMENT_POSITION_CONTAINS?1:0}let I=o.createContext({register:()=>{},unregister:()=>{},map:new Map,elementsRef:{current:[]}});function L(e){let{children:t,elementsRef:n,labelsRef:r}=e,[u,l]=o.useState(()=>new Map),i=o.useCallback(e=>{l(t=>new Map(t).set(e,null))},[]),c=o.useCallback(e=>{l(t=>{let n=new Map(t);return n.delete(e),n})},[]);return x(()=>{let e=new Map(u);Array.from(e.keys()).sort(M).forEach((t,n)=>{e.set(t,n)}),!function(e,t){if(e.size!==t.size)return!1;for(let[n,r]of e.entries())if(r!==t.get(n))return!1;return!0}(u,e)&&l(e)},[u]),o.createElement(I.Provider,{value:o.useMemo(()=>({register:i,unregister:c,map:u,elementsRef:n,labelsRef:r}),[i,c,u,n,r])},t)}function C(e){void 0===e&&(e={});let{label:t}=e,{register:n,unregister:r,map:u,elementsRef:l,labelsRef:i}=o.useContext(I),[c,f]=o.useState(null),a=o.useRef(null),s=o.useCallback(e=>{if(a.current=e,null!==c&&(l.current[c]=e,i)){var n;let r=void 0!==t;i.current[c]=r?t:null!=(n=null==e?void 0:e.textContent)?n:null}},[c,l,i,t]);return x(()=>{let e=a.current;if(e)return n(e),()=>{r(e)}},[n,r]),x(()=>{let e=a.current?u.get(a.current):null;null!=e&&f(e)},[u]),o.useMemo(()=>({ref:s,index:null==c?-1:c}),[c,s])}function T(){return(T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}let A=!1,O=0,S=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+O++,D=s.useId||function(){let[e,t]=o.useState(()=>A?S():void 0);return x(()=>{null==e&&t(S())},[]),o.useEffect(()=>{A=!0},[]),e},P=o.forwardRef(function(e,t){let{context:{placement:n,elements:{floating:r},middlewareData:{arrow:u,shift:l}},width:i=14,height:f=7,tipRadius:a=0,strokeWidth:s=0,staticOffset:d,stroke:v,d:m,style:{transform:p,...g}={},...E}=e,y=D(),[b,h]=o.useState(!1);if(x(()=>{r&&"rtl"===(0,c.Dx)(r).direction&&h(!0)},[r]),!r)return null;let[w,k]=n.split("-"),R="top"===w||"bottom"===w,M=d;(R&&null!=l&&l.x||!R&&null!=l&&l.y)&&(M=null);let I=2*s,L=I/2,C=i/2*(-(a/8)+1),A=f/2*a/4,O=!!m,S=M&&"end"===k?"bottom":"top",P=M&&"end"===k?"right":"left";M&&b&&(P="end"===k?"left":"right");let K=(null==u?void 0:u.x)!=null?M||u.x:"",N=(null==u?void 0:u.y)!=null?M||u.y:"",W=m||"M0,0 H"+i+" L"+(i-C)+","+(f-A)+(" Q"+i/2+","+f+" ")+C+","+(f-A)+" Z",_={top:O?"rotate(180deg)":"",left:O?"rotate(90deg)":"rotate(-90deg)",bottom:O?"":"rotate(180deg)",right:O?"rotate(-90deg)":"rotate(90deg)"}[w];return o.createElement("svg",T({},E,{"aria-hidden":!0,ref:t,width:O?i:i+I,height:i,viewBox:"0 0 "+i+" "+(f>i?f:i),style:{position:"absolute",pointerEvents:"none",[P]:K,[S]:N,[w]:R||O?"100%":"calc(100% - "+I/2+"px)",transform:[_,p].filter(e=>!!e).join(" "),...g}}),I>0&&o.createElement("path",{clipPath:"url(#"+y+")",fill:"none",stroke:v,strokeWidth:I+(m?0:1),d:W}),o.createElement("path",{stroke:I&&!m?E.fill:"none",d:W}),o.createElement("clipPath",{id:y},o.createElement("rect",{x:-L,y:L*(O?-1:1),width:i+I,height:i})))}),K=o.createContext(null),N=o.createContext(null),W=()=>{var e;return(null==(e=o.useContext(K))?void 0:e.id)||null},_=()=>o.useContext(N);function F(e){return"data-floating-ui-"+e}function j(e){let t=(0,o.useRef)(e);return x(()=>{t.current=e}),t}let U=F("safe-polygon");function q(e,t,n){return n&&!(0,l.r)(n)?0:"number"==typeof e?e:null==e?void 0:e[t]}function B(e,t){void 0===t&&(t={});let{open:n,onOpenChange:r,dataRef:u,events:i,elements:f}=e,{enabled:a=!0,delay:s=0,handleClose:d=null,mouseOnly:m=!1,restMs:p=0,move:g=!0}=t,E=_(),y=W(),b=j(d),h=j(s),w=j(n),k=o.useRef(),R=o.useRef(-1),M=o.useRef(),I=o.useRef(-1),L=o.useRef(!0),C=o.useRef(!1),T=o.useRef(()=>{}),A=o.useRef(!1),O=o.useCallback(()=>{var e;let t=null==(e=u.current.openEvent)?void 0:e.type;return(null==t?void 0:t.includes("mouse"))&&"mousedown"!==t},[u]);o.useEffect(()=>{if(a)return i.on("openchange",e),()=>{i.off("openchange",e)};function e(e){let{open:t}=e;t||(clearTimeout(R.current),clearTimeout(I.current),L.current=!0,A.current=!1)}},[a,i]),o.useEffect(()=>{if(!a||!b.current||!n)return;function e(e){O()&&r(!1,e,"hover")}let t=(0,l.Me)(f.floating).documentElement;return t.addEventListener("mouseleave",e),()=>{t.removeEventListener("mouseleave",e)}},[f.floating,n,r,a,b,O]);let S=o.useCallback(function(e,t,n){void 0===t&&(t=!0),void 0===n&&(n="hover");let u=q(h.current,"close",k.current);u&&!M.current?(clearTimeout(R.current),R.current=window.setTimeout(()=>r(!1,e,n),u)):t&&(clearTimeout(R.current),r(!1,e,n))},[h,r]),D=v(()=>{T.current(),M.current=void 0}),P=v(()=>{if(C.current){let e=(0,l.Me)(f.floating).body;e.style.pointerEvents="",e.removeAttribute(U),C.current=!1}}),K=v(()=>!!u.current.openEvent&&["click","mousedown"].includes(u.current.openEvent.type));o.useEffect(()=>{if(a&&(0,c.kK)(f.domReference)){var e;let r=f.domReference;return n&&r.addEventListener("mouseleave",i),null==(e=f.floating)||e.addEventListener("mouseleave",i),g&&r.addEventListener("mousemove",t,{once:!0}),r.addEventListener("mouseenter",t),r.addEventListener("mouseleave",o),()=>{var e;n&&r.removeEventListener("mouseleave",i),null==(e=f.floating)||e.removeEventListener("mouseleave",i),g&&r.removeEventListener("mousemove",t),r.removeEventListener("mouseenter",t),r.removeEventListener("mouseleave",o)}}function t(e){if(clearTimeout(R.current),L.current=!1,m&&!(0,l.r)(k.current)||p>0&&!q(h.current,"open"))return;let t=q(h.current,"open",k.current);t?R.current=window.setTimeout(()=>{w.current||r(!0,e,"hover")},t):n||r(!0,e,"hover")}function o(e){if(K())return;T.current();let t=(0,l.Me)(f.floating);if(clearTimeout(I.current),A.current=!1,b.current&&u.current.floatingContext){n||clearTimeout(R.current),M.current=b.current({...u.current.floatingContext,tree:E,x:e.clientX,y:e.clientY,onClose(){P(),D(),K()||S(e,!0,"safe-polygon")}});let r=M.current;t.addEventListener("mousemove",r),T.current=()=>{t.removeEventListener("mousemove",r)};return}"touch"===k.current&&(0,l.r3)(f.floating,e.relatedTarget)||S(e)}function i(e){!K()&&u.current.floatingContext&&(null==b.current||b.current({...u.current.floatingContext,tree:E,x:e.clientX,y:e.clientY,onClose(){P(),D(),K()||S(e)}})(e))}},[f,a,e,m,p,g,S,D,P,r,n,w,E,h,b,u,K]),x(()=>{var e,t;if(a&&n&&null!=(e=b.current)&&e.__options.blockPointerEvents&&O()){C.current=!0;let e=f.floating;if((0,c.kK)(f.domReference)&&e){let n=(0,l.Me)(f.floating).body;n.setAttribute(U,"");let r=f.domReference,u=null==E||null==(t=E.nodesRef.current.find(e=>e.id===y))||null==(t=t.context)?void 0:t.elements.floating;return u&&(u.style.pointerEvents=""),n.style.pointerEvents="none",r.style.pointerEvents="auto",e.style.pointerEvents="auto",()=>{n.style.pointerEvents="",r.style.pointerEvents="",e.style.pointerEvents=""}}}},[a,n,y,f,E,b,O]),x(()=>{n||(k.current=void 0,A.current=!1,D(),P())},[n,D,P]),o.useEffect(()=>()=>{D(),clearTimeout(R.current),clearTimeout(I.current),P()},[a,f.domReference,D,P]);let N=o.useMemo(()=>{function e(e){k.current=e.pointerType}return{onPointerDown:e,onPointerEnter:e,onMouseMove(e){let{nativeEvent:t}=e;function u(){L.current||w.current||r(!0,t,"hover")}!(!m||(0,l.r)(k.current))||n||0===p||A.current&&e.movementX**2+e.movementY**2<2||(clearTimeout(I.current),"touch"===k.current?u():(A.current=!0,I.current=window.setTimeout(u,p)))}}},[m,r,n,w,p]),F=o.useMemo(()=>({onMouseEnter(){clearTimeout(R.current)},onMouseLeave(e){K()||S(e.nativeEvent,!1)}}),[S,K]);return o.useMemo(()=>a?{reference:N,floating:F}:{},[a,N,F])}let H=0;function Y(e,t){void 0===t&&(t={});let{preventScroll:n=!1,cancelPrevious:r=!0,sync:u=!1}=t;r&&cancelAnimationFrame(H);let o=()=>null==e?void 0:e.focus({preventScroll:n});u?o():H=requestAnimationFrame(o)}function V(e,t){let n=e.filter(e=>{var n;return e.parentId===t&&(null==(n=e.context)?void 0:n.open)}),r=n;for(;r.length;)r=e.filter(e=>{var t;return null==(t=r)?void 0:t.some(t=>{var n;return e.parentId===t.id&&(null==(n=e.context)?void 0:n.open)})}),n=n.concat(r);return n}let X=new WeakMap,G=new WeakSet,z={},Z=0,J=()=>"undefined"!=typeof HTMLElement&&"inert"in HTMLElement.prototype,Q=e=>e&&(e.host||Q(e.parentNode)),$=(e,t)=>t.map(t=>{if(e.contains(t))return t;let n=Q(t);return e.contains(n)?n:null}).filter(e=>null!=e);function ee(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);let r=(0,l.Me)(e[0]).body;return function(e,t,n,r){let u="data-floating-ui-inert",o=r?"inert":n?"aria-hidden":null,l=$(t,e),i=new Set,f=new Set(l),a=[];z[u]||(z[u]=new WeakMap);let s=z[u];return l.forEach(function e(t){!(!t||i.has(t))&&(i.add(t),t.parentNode&&e(t.parentNode))}),function e(t){!t||f.has(t)||[].forEach.call(t.children,t=>{if("script"!==(0,c.wk)(t)){if(i.has(t))e(t);else{let e=o?t.getAttribute(o):null,n=null!==e&&"false"!==e,r=(X.get(t)||0)+1,l=(s.get(t)||0)+1;X.set(t,r),s.set(t,l),a.push(t),1===r&&n&&G.add(t),1===l&&t.setAttribute(u,""),!n&&o&&t.setAttribute(o,"true")}}})}(t),i.clear(),Z++,()=>{a.forEach(e=>{let t=(X.get(e)||0)-1,n=(s.get(e)||0)-1;X.set(e,t),s.set(e,n),t||(!G.has(e)&&o&&e.removeAttribute(o),G.delete(e)),n||e.removeAttribute(u)}),--Z||(X=new WeakMap,X=new WeakMap,G=new WeakSet,z={})}}(e.concat(Array.from(r.querySelectorAll("[aria-live]"))),r,t,n)}let et=()=>({getShadowRoot:!0,displayCheck:"function"==typeof ResizeObserver&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function en(e,t){let n=(0,f.ht)(e,et());"prev"===t&&n.reverse();let r=n.indexOf((0,l.AW)((0,l.Me)(e)));return n.slice(r+1)[0]}function er(e,t){let n=t||e.currentTarget,r=e.relatedTarget;return!r||!(0,l.r3)(n,r)}let eu={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};function eo(e){"Tab"===e.key&&(e.target,clearTimeout(r))}let el=o.forwardRef(function(e,t){let[n,r]=o.useState();x(()=>((0,l.G6)()&&r("button"),document.addEventListener("keydown",eo),()=>{document.removeEventListener("keydown",eo)}),[]);let u={ref:t,tabIndex:0,role:n,"aria-hidden":!n||void 0,[F("focus-guard")]:"",style:eu};return o.createElement("span",T({},e,u))}),ei=o.createContext(null),ec=()=>o.useContext(ei),ef="data-floating-ui-focusable";function ea(e){return e?e.hasAttribute(ef)?e:e.querySelector("["+ef+"]")||e:null}let es=[];function ed(e){es=es.filter(e=>e.isConnected);let t=e;if(t&&"body"!==(0,c.wk)(t)){if(!(0,f.Wq)(t,et())){let e=(0,f.ht)(t,et())[0];e&&(t=e)}es.push(t),es.length>20&&(es=es.slice(-20))}}function ev(){return es.slice().reverse().find(e=>e.isConnected)}let em=o.forwardRef(function(e,t){return o.createElement("button",T({},e,{type:"button",ref:t,tabIndex:-1,style:eu}))});function ep(e){let{context:t,children:n,disabled:r=!1,order:u=["content"],guards:i=!0,initialFocus:a=0,returnFocus:s=!0,restoreFocus:d=!1,modal:m=!0,visuallyHiddenDismiss:p=!1,closeOnFocusOut:g=!0}=e,{open:E,refs:y,nodeId:b,onOpenChange:h,events:w,dataRef:k,floatingId:R,elements:{domReference:M,floating:I}}=t,L="number"==typeof a&&a<0,C=(0,l.Ie)(M)&&L,T=!J()||i,A=j(u),O=j(a),S=j(s),D=_(),P=ec(),K=o.useRef(null),N=o.useRef(null),W=o.useRef(!1),U=o.useRef(!1),q=o.useRef(-1),B=null!=P,H=ea(I),X=v(function(e){return void 0===e&&(e=H),e?(0,f.ht)(e,et()):[]}),G=v(e=>{let t=X(e);return A.current.map(e=>M&&"reference"===e?M:H&&"floating"===e?H:t).filter(Boolean).flat()});function z(e){return!r&&p&&m?o.createElement(em,{ref:"start"===e?K:N,onClick:e=>h(!1,e.nativeEvent)},"string"==typeof p?p:"Dismiss"):null}o.useEffect(()=>{if(r||!m)return;function e(e){if("Tab"===e.key){(0,l.r3)(H,(0,l.AW)((0,l.Me)(H)))&&0===X().length&&!C&&(0,l.p7)(e);let t=G(),n=(0,l.U9)(e);"reference"===A.current[0]&&n===M&&((0,l.p7)(e),e.shiftKey?Y(t[t.length-1]):Y(t[1])),"floating"===A.current[1]&&n===H&&e.shiftKey&&((0,l.p7)(e),Y(t[0]))}}let t=(0,l.Me)(H);return t.addEventListener("keydown",e),()=>{t.removeEventListener("keydown",e)}},[r,M,H,m,A,C,X,G]),o.useEffect(()=>{if(!r&&I)return I.addEventListener("focusin",e),()=>{I.removeEventListener("focusin",e)};function e(e){let t=(0,l.U9)(e),n=X().indexOf(t);-1!==n&&(q.current=n)}},[r,I,X]),o.useEffect(()=>{if(!r&&g&&I&&(0,c.Re)(M))return M.addEventListener("focusout",t),M.addEventListener("pointerdown",e),I.addEventListener("focusout",t),()=>{M.removeEventListener("focusout",t),M.removeEventListener("pointerdown",e),I.removeEventListener("focusout",t)};function e(){U.current=!0,setTimeout(()=>{U.current=!1})}function t(e){let t=e.relatedTarget;queueMicrotask(()=>{let n=!((0,l.r3)(M,t)||(0,l.r3)(I,t)||(0,l.r3)(t,I)||(0,l.r3)(null==P?void 0:P.portalNode,t)||null!=t&&t.hasAttribute(F("focus-guard"))||D&&(V(D.nodesRef.current,b).find(e=>{var n,r;return(0,l.r3)(null==(n=e.context)?void 0:n.elements.floating,t)||(0,l.r3)(null==(r=e.context)?void 0:r.elements.domReference,t)})||(function(e,t){var n;let r=[],u=null==(n=e.find(e=>e.id===t))?void 0:n.parentId;for(;u;){let t=e.find(e=>e.id===u);u=null==t?void 0:t.parentId,t&&(r=r.concat(t))}return r})(D.nodesRef.current,b).find(e=>{var n,r;return(null==(n=e.context)?void 0:n.elements.floating)===t||(null==(r=e.context)?void 0:r.elements.domReference)===t})));if(d&&n&&(0,l.AW)((0,l.Me)(H))===(0,l.Me)(H).body){(0,c.Re)(H)&&H.focus();let e=q.current,t=X(),n=t[e]||t[t.length-1]||H;(0,c.Re)(n)&&n.focus()}(C||!m)&&t&&n&&!U.current&&t!==ev()&&(W.current=!0,h(!1,e,"focus-out"))})}},[r,M,I,H,m,b,D,P,h,g,d,X,C]),o.useEffect(()=>{var e;if(r)return;let t=Array.from((null==P||null==(e=P.portalNode)?void 0:e.querySelectorAll("["+F("portal")+"]"))||[]);if(I){let e=[I,...t,K.current,N.current,A.current.includes("reference")||C?M:null].filter(e=>null!=e),n=m||C?ee(e,T,!T):ee(e);return()=>{n()}}},[r,M,I,m,A,P,C,T]),x(()=>{if(r||!(0,c.Re)(H))return;let e=(0,l.Me)(H),t=(0,l.AW)(e);queueMicrotask(()=>{let e=G(H),n=O.current,r=("number"==typeof n?e[n]:n.current)||H,u=(0,l.r3)(H,t);L||u||!E||Y(r,{preventScroll:r===H})})},[r,E,H,L,G,O]),x(()=>{if(r||!H)return;let e=!1,t=(0,l.Me)(H),n=(0,l.AW)(t),u=k.current.openEvent;function o(t){let{open:n,reason:r,event:o,nested:i}=t;n&&(u=o),"escape-key"===r&&y.domReference.current&&ed(y.domReference.current),"hover"===r&&"mouseleave"===o.type&&(W.current=!0),"outside-press"===r&&(i?(W.current=!1,e=!0):W.current=!((0,l.Zj)(o)||(0,l.cr)(o)))}ed(n),w.on("openchange",o);let i=t.createElement("span");return i.setAttribute("tabindex","-1"),i.setAttribute("aria-hidden","true"),Object.assign(i.style,eu),B&&M&&M.insertAdjacentElement("afterend",i),()=>{w.off("openchange",o);let n=(0,l.AW)(t),r=(0,l.r3)(I,n)||D&&V(D.nodesRef.current,b).some(e=>{var t;return(0,l.r3)(null==(t=e.context)?void 0:t.elements.floating,n)});(r||u&&["click","mousedown"].includes(u.type))&&y.domReference.current&&ed(y.domReference.current);let f="boolean"==typeof S.current?ev()||i:S.current.current||i;queueMicrotask(()=>{S.current&&!W.current&&(0,c.Re)(f)&&(f===n||n===t.body||r)&&f.focus({preventScroll:e}),i.remove()})}},[r,I,H,S,k,y,w,D,b,B,M]),o.useEffect(()=>{queueMicrotask(()=>{W.current=!1})},[r]),x(()=>{if(!r&&P)return P.setFocusManagerState({modal:m,closeOnFocusOut:g,open:E,onOpenChange:h,refs:y}),()=>{P.setFocusManagerState(null)}},[r,P,m,E,h,y,g]),x(()=>{if(r||!H||"function"!=typeof MutationObserver||L)return;let e=()=>{let e=H.getAttribute("tabindex"),t=X(),n=(0,l.AW)((0,l.Me)(I)),r=t.indexOf(n);-1!==r&&(q.current=r),A.current.includes("floating")||n!==y.domReference.current&&0===t.length?"0"!==e&&H.setAttribute("tabindex","0"):"-1"!==e&&H.setAttribute("tabindex","-1")};e();let t=new MutationObserver(e);return t.observe(H,{childList:!0,subtree:!0,attributes:!0}),()=>{t.disconnect()}},[r,I,H,y,A,X,L]);let Z=!r&&T&&(!m||!C)&&(B||m);return o.createElement(o.Fragment,null,Z&&o.createElement(el,{"data-type":"inside",ref:null==P?void 0:P.beforeInsideRef,onFocus:e=>{if(m){let e=G();Y("reference"===u[0]?e[0]:e[e.length-1])}else if(null!=P&&P.preserveTabOrder&&P.portalNode){if(W.current=!1,er(e,P.portalNode)){let e=en(document.body,"next")||M;null==e||e.focus()}else{var t;null==(t=P.beforeOutsideRef.current)||t.focus()}}}}),!C&&z("start"),n,z("end"),Z&&o.createElement(el,{"data-type":"inside",ref:null==P?void 0:P.afterInsideRef,onFocus:e=>{if(m)Y(G()[0]);else if(null!=P&&P.preserveTabOrder&&P.portalNode){if(g&&(W.current=!0),er(e,P.portalNode)){let e=en(document.body,"prev")||M;null==e||e.focus()}else{var t;null==(t=P.afterOutsideRef.current)||t.focus()}}}}))}let eg=0,eE=()=>{},ey=o.forwardRef(function(e,t){let{lockScroll:n=!1,...r}=e;return x(()=>{if(n)return 1==++eg&&(eE=function(){let e=/iP(hone|ad|od)|iOS/.test((0,l.Xf)()),t=document.body.style,n=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",r=window.innerWidth-document.documentElement.clientWidth,u=t.left?parseFloat(t.left):window.scrollX,o=t.top?parseFloat(t.top):window.scrollY;if(t.overflow="hidden",r&&(t[n]=r+"px"),e){var i,c;let e=(null==(i=window.visualViewport)?void 0:i.offsetLeft)||0;Object.assign(t,{position:"fixed",top:-(o-Math.floor((null==(c=window.visualViewport)?void 0:c.offsetTop)||0))+"px",left:-(u-Math.floor(e))+"px",right:"0"})}return()=>{Object.assign(t,{overflow:"",[n]:""}),e&&(Object.assign(t,{position:"",top:"",left:"",right:""}),window.scrollTo(u,o))}}()),()=>{0==--eg&&eE()}},[n]),o.createElement("div",T({ref:t},r,{style:{position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0,...r.style}}))});function eb(e){return(0,c.Re)(e.target)&&"BUTTON"===e.target.tagName}function eh(e,t){void 0===t&&(t={});let{open:n,onOpenChange:r,dataRef:u,elements:{domReference:i}}=e,{enabled:c=!0,event:f="click",toggle:a=!0,ignoreMouse:s=!1,keyboardHandlers:d=!0,stickIfOpen:v=!0}=t,m=o.useRef(),p=o.useRef(!1),g=o.useMemo(()=>({onPointerDown(e){m.current=e.pointerType},onMouseDown(e){let t=m.current;0===e.button&&"click"!==f&&((0,l.r)(t,!0)&&s||(n&&a&&(!u.current.openEvent||!v||"mousedown"===u.current.openEvent.type)?r(!1,e.nativeEvent,"click"):(e.preventDefault(),r(!0,e.nativeEvent,"click"))))},onClick(e){let t=m.current;if("mousedown"===f&&m.current){m.current=void 0;return}(0,l.r)(t,!0)&&s||(n&&a&&(!u.current.openEvent||!v||"click"===u.current.openEvent.type)?r(!1,e.nativeEvent,"click"):r(!0,e.nativeEvent,"click"))},onKeyDown(e){m.current=void 0,e.defaultPrevented||!d||eb(e)||(" "!==e.key||(0,l.j7)(i)||(e.preventDefault(),p.current=!0),"Enter"===e.key&&(n&&a?r(!1,e.nativeEvent,"click"):r(!0,e.nativeEvent,"click")))},onKeyUp(e){!(e.defaultPrevented||!d||eb(e)||(0,l.j7)(i))&&" "===e.key&&p.current&&(p.current=!1,n&&a?r(!1,e.nativeEvent,"click"):r(!0,e.nativeEvent,"click"))}}),[u,i,f,s,d,r,n,v,a]);return o.useMemo(()=>c?{reference:g}:{},[c,g])}let ew={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},ek={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},eR=e=>{var t,n;return{escapeKey:"boolean"==typeof e?e:null!=(t=null==e?void 0:e.escapeKey)&&t,outsidePress:"boolean"==typeof e?e:null==(n=null==e?void 0:e.outsidePress)||n}};function ex(e,t){void 0===t&&(t={});let{open:n,onOpenChange:r,elements:u,dataRef:i}=e,{enabled:f=!0,escapeKey:a=!0,outsidePress:s=!0,outsidePressEvent:d="pointerdown",referencePress:m=!1,referencePressEvent:p="pointerdown",ancestorScroll:g=!1,bubbles:E,capture:y}=t,b=_(),h=v("function"==typeof s?s:()=>!1),w="function"==typeof s?h:s,k=o.useRef(!1),R=o.useRef(!1),{escapeKey:x,outsidePress:M}=eR(E),{escapeKey:I,outsidePress:L}=eR(y),C=o.useRef(!1),T=v(e=>{var t;if(!n||!f||!a||"Escape"!==e.key||C.current)return;let u=null==(t=i.current.floatingContext)?void 0:t.nodeId,o=b?V(b.nodesRef.current,u):[];if(!x&&(e.stopPropagation(),o.length>0)){let e=!0;if(o.forEach(t=>{var n;if(null!=(n=t.context)&&n.open&&!t.context.dataRef.current.__escapeKeyBubbles){e=!1;return}}),!e)return}r(!1,(0,l.MM)(e)?e.nativeEvent:e,"escape-key")}),A=v(e=>{var t;let n=()=>{var t;T(e),null==(t=(0,l.U9)(e))||t.removeEventListener("keydown",n)};null==(t=(0,l.U9)(e))||t.addEventListener("keydown",n)}),O=v(e=>{var t;let n=k.current;k.current=!1;let o=R.current;if(R.current=!1,"click"===d&&o||n||"function"==typeof w&&!w(e))return;let f=(0,l.U9)(e),a="["+F("inert")+"]",s=(0,l.Me)(u.floating).querySelectorAll(a),v=(0,c.kK)(f)?f:null;for(;v&&!(0,c.Py)(v);){let e=(0,c.Ow)(v);if((0,c.Py)(e)||!(0,c.kK)(e))break;v=e}if(s.length&&(0,c.kK)(f)&&!(0,l.ex)(f)&&!(0,l.r3)(f,u.floating)&&Array.from(s).every(e=>!(0,l.r3)(v,e)))return;if((0,c.Re)(f)&&P){let t=f.clientWidth>0&&f.scrollWidth>f.clientWidth,n=f.clientHeight>0&&f.scrollHeight>f.clientHeight,r=n&&e.offsetX>f.clientWidth;if(n&&"rtl"===(0,c.Dx)(f).direction&&(r=e.offsetX<=f.offsetWidth-f.clientWidth),r||t&&e.offsetY>f.clientHeight)return}let m=null==(t=i.current.floatingContext)?void 0:t.nodeId,p=b&&V(b.nodesRef.current,m).some(t=>{var n;return(0,l.Pe)(e,null==(n=t.context)?void 0:n.elements.floating)});if((0,l.Pe)(e,u.floating)||(0,l.Pe)(e,u.domReference)||p)return;let g=b?V(b.nodesRef.current,m):[];if(g.length>0){let e=!0;if(g.forEach(t=>{var n;if(null!=(n=t.context)&&n.open&&!t.context.dataRef.current.__outsidePressBubbles){e=!1;return}}),!e)return}r(!1,e,"outside-press")}),S=v(e=>{var t;let n=()=>{var t;O(e),null==(t=(0,l.U9)(e))||t.removeEventListener(d,n)};null==(t=(0,l.U9)(e))||t.addEventListener(d,n)});o.useEffect(()=>{if(!n||!f)return;i.current.__escapeKeyBubbles=x,i.current.__outsidePressBubbles=M;let e=-1;function t(e){r(!1,e,"ancestor-scroll")}function o(){window.clearTimeout(e),C.current=!0}function s(){e=window.setTimeout(()=>{C.current=!1},(0,c.Pf)()?5:0)}let v=(0,l.Me)(u.floating);a&&(v.addEventListener("keydown",I?A:T,I),v.addEventListener("compositionstart",o),v.addEventListener("compositionend",s)),w&&v.addEventListener(d,L?S:O,L);let m=[];return g&&((0,c.kK)(u.domReference)&&(m=(0,c.Kx)(u.domReference)),(0,c.kK)(u.floating)&&(m=m.concat((0,c.Kx)(u.floating))),!(0,c.kK)(u.reference)&&u.reference&&u.reference.contextElement&&(m=m.concat((0,c.Kx)(u.reference.contextElement)))),(m=m.filter(e=>{var t;return e!==(null==(t=v.defaultView)?void 0:t.visualViewport)})).forEach(e=>{e.addEventListener("scroll",t,{passive:!0})}),()=>{a&&(v.removeEventListener("keydown",I?A:T,I),v.removeEventListener("compositionstart",o),v.removeEventListener("compositionend",s)),w&&v.removeEventListener(d,L?S:O,L),m.forEach(e=>{e.removeEventListener("scroll",t)}),window.clearTimeout(e)}},[i,u,a,w,d,n,r,g,f,x,M,T,I,A,O,L,S]),o.useEffect(()=>{k.current=!1},[w,d]);let D=o.useMemo(()=>({onKeyDown:T,[ew[p]]:e=>{m&&r(!1,e.nativeEvent,"reference-press")}}),[T,r,m,p]),P=o.useMemo(()=>({onKeyDown:T,onMouseDown(){R.current=!0},onMouseUp(){R.current=!0},[ek[d]]:()=>{k.current=!0}}),[T,d]);return o.useMemo(()=>f?{reference:D,floating:P}:{},[f,D,P])}function eM(e){void 0===e&&(e={});let{nodeId:t}=e,n=function(e){let{open:t=!1,onOpenChange:n,elements:r}=e,u=D(),l=o.useRef({}),[i]=o.useState(()=>(function(){let e=new Map;return{emit(t,n){var r;null==(r=e.get(t))||r.forEach(e=>e(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,(null==(r=e.get(t))?void 0:r.filter(e=>e!==n))||[])}}})()),c=null!=W(),[f,a]=o.useState(r.reference),s=v((e,t,r)=>{l.current.openEvent=e?t:void 0,i.emit("openchange",{open:e,event:t,reason:r,nested:c}),null==n||n(e,t,r)}),d=o.useMemo(()=>({setPositionReference:a}),[]),m=o.useMemo(()=>({reference:f||r.reference||null,floating:r.floating||null,domReference:r.reference}),[f,r.reference,r.floating]);return o.useMemo(()=>({dataRef:l,open:t,onOpenChange:s,elements:m,events:i,floatingId:u,refs:d}),[t,s,m,i,u,d])}({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,u=r.elements,[l,i]=o.useState(null),[f,s]=o.useState(null),d=(null==u?void 0:u.domReference)||l,m=o.useRef(null),p=_();x(()=>{d&&(m.current=d)},[d]);let g=(0,a.YF)({...e,elements:{...u,...f&&{reference:f}}}),E=o.useCallback(e=>{let t=(0,c.kK)(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),contextElement:e}:e;s(t),g.refs.setReference(t)},[g.refs]),y=o.useCallback(e=>{((0,c.kK)(e)||null===e)&&(m.current=e,i(e)),((0,c.kK)(g.refs.reference.current)||null===g.refs.reference.current||null!==e&&!(0,c.kK)(e))&&g.refs.setReference(e)},[g.refs]),b=o.useMemo(()=>({...g.refs,setReference:y,setPositionReference:E,domReference:m}),[g.refs,y,E]),h=o.useMemo(()=>({...g.elements,domReference:d}),[g.elements,d]),w=o.useMemo(()=>({...g,...r,refs:b,elements:h,nodeId:t}),[g,b,h,t,r]);return x(()=>{r.dataRef.current.floatingContext=w;let e=null==p?void 0:p.nodesRef.current.find(e=>e.id===t);e&&(e.context=w)}),o.useMemo(()=>({...g,context:w,refs:b,elements:h}),[g,b,h,w])}function eI(e,t){void 0===t&&(t={});let{open:n,onOpenChange:r,events:u,dataRef:i,elements:f}=e,{enabled:a=!0,visibleOnly:s=!0}=t,d=o.useRef(!1),v=o.useRef(),m=o.useRef(!0);o.useEffect(()=>{if(!a)return;let e=(0,c.Jj)(f.domReference);function t(){!n&&(0,c.Re)(f.domReference)&&f.domReference===(0,l.AW)((0,l.Me)(f.domReference))&&(d.current=!0)}function r(){m.current=!0}return e.addEventListener("blur",t),e.addEventListener("keydown",r,!0),()=>{e.removeEventListener("blur",t),e.removeEventListener("keydown",r,!0)}},[f.domReference,n,a]),o.useEffect(()=>{if(a)return u.on("openchange",e),()=>{u.off("openchange",e)};function e(e){let{reason:t}=e;("reference-press"===t||"escape-key"===t)&&(d.current=!0)}},[u,a]),o.useEffect(()=>()=>{clearTimeout(v.current)},[]);let p=o.useMemo(()=>({onPointerDown(e){(0,l.cr)(e.nativeEvent)||(m.current=!1)},onMouseLeave(){d.current=!1},onFocus(e){if(d.current)return;let t=(0,l.U9)(e.nativeEvent);if(s&&(0,c.kK)(t))try{if((0,l.G6)()&&(0,l.V5)())throw Error();if(!t.matches(":focus-visible"))return}catch(e){if(!m.current&&!(0,l.j7)(t))return}r(!0,e.nativeEvent,"focus")},onBlur(e){d.current=!1;let t=e.relatedTarget,n=e.nativeEvent,u=(0,c.kK)(t)&&t.hasAttribute(F("focus-guard"))&&"outside"===t.getAttribute("data-type");v.current=window.setTimeout(()=>{var e;let o=(0,l.AW)(f.domReference?f.domReference.ownerDocument:document);if(t||o!==f.domReference){if((0,l.r3)(null==(e=i.current.floatingContext)?void 0:e.refs.floating.current,o)||(0,l.r3)(f.domReference,o)||u)return;r(!1,n,"focus")}})}}),[i,f.domReference,r,s]);return o.useMemo(()=>a?{reference:p}:{},[a,p])}let eL="active",eC="selected";function eT(e,t,n){let r=new Map,u="item"===n,o=e;if(u&&e){let{[eL]:t,[eC]:n,...r}=e;o=r}return{..."floating"===n&&{tabIndex:-1,[ef]:""},...o,...t.map(t=>{let r=t?t[n]:null;return"function"==typeof r?e?r(e):null:r}).concat(e).reduce((e,t)=>(t&&Object.entries(t).forEach(t=>{let[n,o]=t;if(!(u&&[eL,eC].includes(n))){if(0===n.indexOf("on")){if(r.has(n)||r.set(n,[]),"function"==typeof o){var l;null==(l=r.get(n))||l.push(o),e[n]=function(){for(var e,t=arguments.length,u=Array(t),o=0;o<t;o++)u[o]=arguments[o];return null==(e=r.get(n))?void 0:e.map(e=>e(...u)).find(e=>void 0!==e)}}}else e[n]=o}}),e),{})}}function eA(e){void 0===e&&(e=[]);let t=e.map(e=>null==e?void 0:e.reference),n=e.map(e=>null==e?void 0:e.floating),r=e.map(e=>null==e?void 0:e.item),u=o.useCallback(t=>eT(t,e,"reference"),t),l=o.useCallback(t=>eT(t,e,"floating"),n),i=o.useCallback(t=>eT(t,e,"item"),r);return o.useMemo(()=>({getReferenceProps:u,getFloatingProps:l,getItemProps:i}),[u,l,i])}let eO=!1;function eS(e,t,n){switch(e){case"vertical":return t;case"horizontal":return n;default:return t||n}}function eD(e,t){return eS(t,e===m||e===p,e===g||e===E)}function eP(e,t,n){return eS(t,e===p,n?e===g:e===E)||"Enter"===e||" "===e||""===e}function eK(e,t,n){return eS(t,n?e===E:e===g,e===m)}function eN(e,t){let{open:n,onOpenChange:r,elements:u}=e,{listRef:f,activeIndex:a,onNavigate:s=()=>{},enabled:d=!0,selectedIndex:M=null,allowEscape:I=!1,loop:L=!1,nested:C=!1,rtl:T=!1,virtual:A=!1,focusItemOnOpen:O="auto",focusItemOnHover:S=!0,openOnArrowKeyDown:D=!0,disabledIndices:P,orientation:K="vertical",cols:N=1,scrollItemIntoView:F=!0,virtualItemRef:U,itemSizes:q,dense:B=!1}=t,H=j(ea(u.floating)),X=W(),G=_(),z=v(s),Z=(0,l.Ie)(u.domReference),J=o.useRef(O),Q=o.useRef(null!=M?M:-1),$=o.useRef(null),ee=o.useRef(!0),et=o.useRef(z),en=o.useRef(!!u.floating),er=o.useRef(n),eu=o.useRef(!1),eo=o.useRef(!1),el=j(P),ei=j(n),ec=j(F),ef=j(M),[es,ed]=o.useState(),[ev,em]=o.useState(),ep=v(function(e,t,n){function r(e){A?(ed(e.id),null==G||G.events.emit("virtualfocus",e),U&&(U.current=e)):Y(e,{preventScroll:!0,sync:!!((0,l.V5)()&&(0,l.G6)())&&(eO||eu.current)})}void 0===n&&(n=!1);let u=e.current[t.current];u&&r(u),requestAnimationFrame(()=>{let o=e.current[t.current]||u;if(!o)return;u||r(o);let l=ec.current;l&&eE&&(n||!ee.current)&&(null==o.scrollIntoView||o.scrollIntoView("boolean"==typeof l?{block:"nearest",inline:"nearest"}:l))})});x(()=>{document.createElement("div").focus({get preventScroll(){return eO=!0,!1}})},[]),x(()=>{d&&(n&&u.floating?J.current&&null!=M&&(eo.current=!0,Q.current=M,z(M)):en.current&&(Q.current=-1,et.current(null)))},[d,n,u.floating,M,z]),x(()=>{if(d&&n&&u.floating){if(null==a){if(eu.current=!1,null==ef.current&&(en.current&&(Q.current=-1,ep(f,Q)),(!er.current||!en.current)&&J.current&&(null!=$.current||!0===J.current&&null==$.current))){let e=0,t=()=>{null==f.current[0]?(e<2&&(e?requestAnimationFrame:queueMicrotask)(t),e++):(Q.current=null==$.current||eP($.current,K,T)||C?h(f,el.current):w(f,el.current),$.current=null,z(Q.current))};t()}}else b(f,a)||(Q.current=a,ep(f,Q,eo.current),eo.current=!1)}},[d,n,u.floating,a,ef,C,f,K,T,z,ep,el]),x(()=>{var e;if(!d||u.floating||!G||A||!en.current)return;let t=G.nodesRef.current,n=null==(e=t.find(e=>e.id===X))||null==(e=e.context)?void 0:e.elements.floating,r=(0,l.AW)((0,l.Me)(u.floating)),o=t.some(e=>e.context&&(0,l.r3)(e.context.elements.floating,r));n&&!o&&ee.current&&n.focus({preventScroll:!0})},[d,u.floating,G,X,A]),x(()=>{if(d&&G&&A&&!X)return G.events.on("virtualfocus",e),()=>{G.events.off("virtualfocus",e)};function e(e){em(e.id),U&&(U.current=e)}},[d,G,A,X,U]),x(()=>{et.current=z,en.current=!!u.floating}),x(()=>{n||($.current=null)},[n]),x(()=>{er.current=n},[n]);let eg=null!=a,eE=o.useMemo(()=>{function e(e){if(!n)return;let t=f.current.indexOf(e);-1!==t&&z(t)}return{onFocus(t){let{currentTarget:n}=t;e(n)},onClick:e=>{let{currentTarget:t}=e;return t.focus({preventScroll:!0})},...S&&{onMouseMove(t){let{currentTarget:n}=t;e(n)},onPointerLeave(e){let{pointerType:t}=e;ee.current&&"touch"!==t&&(Q.current=-1,ep(f,Q),z(null),A||Y(H.current,{preventScroll:!0}))}}}},[n,H,ep,S,f,z,A]),ey=v(e=>{if(ee.current=!1,eu.current=!0,229===e.which||!ei.current&&e.currentTarget===H.current)return;if(C&&eK(e.key,K,T)){(0,l.p7)(e),r(!1,e.nativeEvent,"list-navigation"),(0,c.Re)(u.domReference)&&(A?null==G||G.events.emit("virtualfocus",u.domReference):u.domReference.focus());return}let t=Q.current,o=h(f,P),a=w(f,P);if(Z||("Home"===e.key&&((0,l.p7)(e),Q.current=o,z(Q.current)),"End"===e.key&&((0,l.p7)(e),Q.current=a,z(Q.current))),N>1){var s;let t=q||Array.from({length:f.current.length},()=>({width:1,height:1})),n=function(e,t,n){let r=[],u=0;return e.forEach((e,o)=>{let{width:l,height:i}=e,c=!1;for(n&&(u=0);!c;){let e=[];for(let n=0;n<l;n++)for(let r=0;r<i;r++)e.push(u+n+r*t);u%t+l<=t&&e.every(e=>null==r[e])?(e.forEach(e=>{r[e]=o}),c=!0):u++}}),[...r]}(t,N,B),r=n.findIndex(e=>null!=e&&!R(f.current,e,P)),u=n.reduce((e,t,n)=>null==t||R(f.current,t,P)?e:n,-1),c=n[function(e,t){let{event:n,orientation:r,loop:u,rtl:o,cols:c,disabledIndices:f,minIndex:a,maxIndex:s,prevIndex:d,stopEvent:v=!1}=t,h=d;if(n.key===m){if(v&&(0,l.p7)(n),-1===d)h=s;else if(h=k(e,{startingIndex:h,amount:c,decrement:!0,disabledIndices:f}),u&&(d-c<a||h<0)){let e=d%c,t=s%c,n=s-(t-e);h=t===e?s:t>e?n:n-c}b(e,h)&&(h=d)}if(n.key===p&&(v&&(0,l.p7)(n),-1===d?h=a:(h=k(e,{startingIndex:d,amount:c,disabledIndices:f}),u&&d+c>s&&(h=k(e,{startingIndex:d%c-c,amount:c,disabledIndices:f}))),b(e,h)&&(h=d)),"both"===r){let t=(0,i.GW)(d/c);n.key===(o?g:E)&&(v&&(0,l.p7)(n),d%c!=c-1?(h=k(e,{startingIndex:d,disabledIndices:f}),u&&y(h,c,t)&&(h=k(e,{startingIndex:d-d%c-1,disabledIndices:f}))):u&&(h=k(e,{startingIndex:d-d%c-1,disabledIndices:f})),y(h,c,t)&&(h=d)),n.key===(o?E:g)&&(v&&(0,l.p7)(n),d%c!=0?(h=k(e,{startingIndex:d,decrement:!0,disabledIndices:f}),u&&y(h,c,t)&&(h=k(e,{startingIndex:d+(c-d%c),decrement:!0,disabledIndices:f}))):u&&(h=k(e,{startingIndex:d+(c-d%c),decrement:!0,disabledIndices:f})),y(h,c,t)&&(h=d));let r=(0,i.GW)(s/c)===t;b(e,h)&&(h=u&&r?n.key===(o?E:g)?s:k(e,{startingIndex:d-d%c-1,disabledIndices:f}):d)}return h}({current:n.map(e=>null!=e?f.current[e]:null)},{event:e,orientation:K,loop:L,rtl:T,cols:N,disabledIndices:(s=[...P||f.current.map((e,t)=>R(f.current,t)?t:void 0),void 0],n.flatMap((e,t)=>s.includes(e)?[t]:[])),minIndex:r,maxIndex:u,prevIndex:function(e,t,n,r,u){if(-1===e)return -1;let o=n.indexOf(e),l=t[e];switch(u){case"tl":return o;case"tr":if(!l)return o;return o+l.width-1;case"bl":if(!l)return o;return o+(l.height-1)*r;case"br":return n.lastIndexOf(e)}}(Q.current>a?o:Q.current,t,n,N,e.key===p?"bl":e.key===(T?g:E)?"tr":"tl"),stopEvent:!0})];if(null!=c&&(Q.current=c,z(Q.current)),"both"===K)return}if(eD(e.key,K)){if((0,l.p7)(e),n&&!A&&(0,l.AW)(e.currentTarget.ownerDocument)===e.currentTarget){Q.current=eP(e.key,K,T)?o:a,z(Q.current);return}eP(e.key,K,T)?L?Q.current=t>=a?I&&t!==f.current.length?-1:o:k(f,{startingIndex:t,disabledIndices:P}):Q.current=Math.min(a,k(f,{startingIndex:t,disabledIndices:P})):L?Q.current=t<=o?I&&-1!==t?f.current.length:a:k(f,{startingIndex:t,decrement:!0,disabledIndices:P}):Q.current=Math.max(o,k(f,{startingIndex:t,decrement:!0,disabledIndices:P})),b(f,Q.current)?z(null):z(Q.current)}}),eb=o.useMemo(()=>A&&n&&eg&&{"aria-activedescendant":ev||es},[A,n,eg,ev,es]),eh=o.useMemo(()=>({"aria-orientation":"both"===K?void 0:K,...!(0,l.Ie)(u.domReference)&&eb,onKeyDown:ey,onPointerMove(){ee.current=!0}}),[eb,ey,u.domReference,K]),ew=o.useMemo(()=>{function e(e){"auto"===O&&(0,l.Zj)(e.nativeEvent)&&(J.current=!0)}return{...eb,onKeyDown(e){var t,u,o,i,c,a;ee.current=!1;let s=e.key.startsWith("Arrow"),d=["Home","End"].includes(e.key),v=(t=e.key,eS(K,T?t===g:t===E,t===p)),m=eK(e.key,K,T),y=eD(e.key,K),b=(C?v:y)||"Enter"===e.key||""===e.key.trim();if(A&&n){let t,n;let r=null==G?void 0:G.nodesRef.current.find(e=>null==e.parentId),p=G&&r?(u=G.nodesRef.current,o=r.id,n=-1,!function e(r,o){o>n&&(t=r,n=o),V(u,r).forEach(t=>{e(t.id,o+1)})}(o,0),u.find(e=>e.id===t)):null;if((s||d)&&p&&U){let t=new KeyboardEvent("keydown",{key:e.key,bubbles:!0});if(v||m){let n=(null==(i=p.context)?void 0:i.elements.domReference)===e.currentTarget,r=m&&!n?null==(c=p.context)?void 0:c.elements.domReference:v?f.current.find(e=>(null==e?void 0:e.id)===es):null;r&&((0,l.p7)(e),r.dispatchEvent(t),em(void 0))}if((y||d)&&p.context&&p.context.open&&p.parentId&&e.currentTarget!==p.context.elements.domReference){(0,l.p7)(e),null==(a=p.context.elements.domReference)||a.dispatchEvent(t);return}}return ey(e)}if(n||D||!s){if(b&&($.current=C&&y?null:e.key),C){v&&((0,l.p7)(e),n?(Q.current=h(f,el.current),z(Q.current)):r(!0,e.nativeEvent,"list-navigation"));return}y&&(null!=M&&(Q.current=M),(0,l.p7)(e),!n&&D?r(!0,e.nativeEvent,"list-navigation"):ey(e),n&&z(Q.current))}},onFocus(){n&&!A&&z(null)},onPointerDown:function(e){J.current=O,"auto"===O&&(0,l.cr)(e.nativeEvent)&&(J.current=!0)},onMouseDown:e,onClick:e}},[es,eb,ey,el,O,f,C,z,r,n,D,K,T,M,G,A,U]);return o.useMemo(()=>d?{reference:ew,floating:eh,item:eE}:{},[d,ew,eh,eE])}let eW=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function e_(e,t){var n;void 0===t&&(t={});let{open:r,floatingId:u}=e,{enabled:l=!0,role:i="dialog"}=t,c=null!=(n=eW.get(i))?n:i,f=D(),a=null!=W(),s=o.useMemo(()=>"tooltip"===c||"label"===i?{["aria-"+("label"===i?"labelledby":"describedby")]:r?u:void 0}:{"aria-expanded":r?"true":"false","aria-haspopup":"alertdialog"===c?"dialog":c,"aria-controls":r?u:void 0,..."listbox"===c&&{role:"combobox"},..."menu"===c&&{id:f},..."menu"===c&&a&&{role:"menuitem"},..."select"===i&&{"aria-autocomplete":"none"},..."combobox"===i&&{"aria-autocomplete":"list"}},[c,u,a,r,f,i]),d=o.useMemo(()=>{let e={id:u,...c&&{role:c}};return"tooltip"===c||"label"===i?e:{...e,..."menu"===c&&{"aria-labelledby":f}}},[c,u,f,i]),v=o.useCallback(e=>{let{active:t,selected:n}=e,r={role:"option",...t&&{id:u+"-option"}};switch(i){case"select":return{...r,"aria-selected":t&&n};case"combobox":return{...r,...t&&{"aria-selected":!0}}}return{}},[u,i]);return o.useMemo(()=>l?{reference:s,floating:d,item:v}:{},[l,s,d,v])}}}]);