!function(t){var o,e=document.querySelector("[nonce]"),n=(e&&(o=e.nonce||e.getAttribute("nonce")),{async:1,id:"dcTrackingGeneratorCookieBanner",pagePath:"/banner.js"}),a=window.location.hostname.split(".").slice(-2).join("."),i="datacamp.test"===a||"localhost"===a||"127.0.0.1"===a,c="datacamp-staging.com"===a||i,r=window.location!==window.parent.location,d=!1;try{d=window.navigator.userAgent.includes("x-dc-client=webview")}catch{}var s,l,u="dc_attribution",e=["fbclid","gclid","li_fat_id","msclkid","rdt_cid","ttclid"],G=["dc_referrer","utm_campaign","utm_content","utm_medium","utm_source","utm_term"].concat(e),w="localStorage",m="dc_consent",I=["functional","performance","advertisement"],f=-1<window.location.search.indexOf("display_cookie_banner");function p(){return c?"datacamp-staging.com":"datacamp.com"}function g(e){return"https://"+e.subdomain+"."+e.domain+e.path}function h(e){var n=document.createElement("script");n.src=g({subdomain:"compliance",domain:p(),path:e.pagePath}),e.id&&(n.id=e.id),o&&"null"!==o&&n.setAttribute("nonce",o),n.async=e.async,document.head.appendChild(n)}function v(e){if(!i)for(var n=0;n<t.length;n++)-1<e.indexOf(t[n].category)&&h(t[n])}function y(e){return void 0===window.localStorage?null:window.localStorage.getItem(e)}function S(e){return null===y(e)}function k(e){e=document.cookie.match("(^|;) ?"+e+"=([^;]*)(;|$)");return e?decodeURIComponent(e[2]):null}function _(e){return null===k(e)}function b(e,n,t){var o=new Date((new Date).setFullYear((new Date).getFullYear()+1)).toUTCString();document.cookie=e+"="+n+";path=/;domain=."+a+";expires="+(t||o)+";"}function L(){return["www.datacamp-staging.com","www.datacamp.com"].includes(window.location.hostname)}function J(e){var n;void 0!==window.localStorage&&S(u)&&(n=u,e=e,void 0!==window.localStorage)&&window.localStorage.setItem(n,e)}function N(e){var n;"cookie"===w?(n=e,_(u)&&b(u,n)):J(e)}function j(){return("cookie"===w?_:S)(u)}function E(){j()||("cookie"===w?_(u)||b(u,"",(new Date).toUTCString()):void 0===window.localStorage||S(u)||window.localStorage.removeItem(u))}function q(){if(L()&&!j())if(C().includes("advertisement")){var n=JSON.parse(("cookie"===w?k:y)(u));if(0!==Object.keys(n).length)try{var e=new URL(window.location.href),t=e.searchParams,o=!1;Object.keys(n).forEach(function(e){t.has(e)||(t.append(e,n[e]),o=!0)}),o&&window.history.pushState({},"",e.href.replaceAll("%2B","+")),E()}catch(e){}}else E()}function O(){if(L())if(C().includes("advertisement"))E();else try{var e,n,t=new URL(window.location.href).searchParams,o={};window.document.referrer&&(o.dc_referrer=window.document.referrer);for([e,n]of t.entries())e&&n&&G.includes(e)&&(o[e]=n.replaceAll(" ","+"));0<Object.keys(o).length&&N(JSON.stringify(o))}catch(e){}}function C(){var n;return d?I.slice(0):(n=JSON.parse(k(m)))&&"2.0.0"===n.version?Object.keys(n).filter(function(e){return"version"!==e&&"essential"!==e&&n[e]}):[]}function P(){0<C().length&&v(C())}function T(){window.dispatchEvent(new CustomEvent("dc:consent:updated"))}function U(e){!0===e||"true"===e?(O(),(i||r)&&!f||h(n),window.addEventListener("dc:consent:updated",P,!1),window.addEventListener("dc:consent:updated",q,!1),r&&window.addEventListener("message",function(e){e&&e.data&&"string"==typeof e.data&&"dc:consent:granted"===e.data&&T()},!1)):(b(m,'{"version":"2.0.0","essential":1,"functional":1,"performance":1,"advertisement":1}'),E(),T(),P())}try{var A,R,x=new URL(window.location.href),D=x.searchParams;e.some(function(e){return D.has(e)})&&(R=!(A=/script|javascript|onerror|onload|eval|document|cookie|alert|onclick|onmouseover|select|insert|update|delete|drop|union|where/i),e.forEach(function(e){var n,t;D.has(e)&&(n=D.get(e),t=!(t=n)||"string"!=typeof t||A.test(t)?"":t,n!==t)&&(D.delete(e),R=!0)}),R)&&window.history.replaceState({},"",x.toString())}catch(e){}v(["essential"]),f?U(!0):0<C().length?(O(),d&&window.dataLayer&&window.dataLayer.push&&window.dataLayer.push({auto_consent:"true"}),P()):(s=U,(l=new XMLHttpRequest).onreadystatechange=function(){4==l.readyState&&s(l.response)},l.open("GET",g({subdomain:"compliancy",domain:p(),path:"/geolocation"})),l.responseType="json",l.send())}([{async:!0,category:"essential",id:"dcTrackingGeneratorGtm",pagePath:"/scripts/gtm.js"}]);