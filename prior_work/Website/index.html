<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
 
  <link href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@320&display=swap" rel="stylesheet">

  <title>D2I</title>
    <!-- icon -->
  <link rel="icon" href="https://www.svgrepo.com/show/937/analytics.svg" type="image/x-icon">
  
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.11.2/css/all.css">
  <!-- Google Fonts Roboto -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap">
  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="css/bootstrap.min.css">
  <!-- Material Design Bootstrap -->
  <link rel="stylesheet" href="css/mdb.min.css">
  <!-- Your custom styles (optional) -->
  <link rel="stylesheet" href="css/style.css">
  <style>
    .header {
      background-image: url('icons/green.jpg');
      height: 4rem;
      font-family: 'Roboto Slab', serif;
      z-index: -1;
      color: white;
      transition: 1s;
      box-shadow: 0px 0px 50px 0px rgb(0, 0, 0, .4);
      overflow: hidden;


    }
    .close{
      margin-top: 20vh;
      
    }

    .about {
      position: absolute;
      left: 83px;
      bottom: -20vh;
      text-decoration: underline;
    }

    .dashBack {
      background-color: rgb(226 237 225 / 61%);
      height: 91vh;



    }
    button:focus {
     
  
    outline: 0;

}
    
  </style>
</head> 

<body>

  <script>

    


  </script>



  <!-- Start your project here-->

  <div id="mySidenav" class="sidenav ">

    <div class='sideHead container'>
      <div class='row align-items-center'>
        <div class='col-9 logoText'>
          <h2 class='overflow-hidden text-center'>Covid-19</h2>
          <h2 class='overflow-hidden text-center'>Impact</h2>
        </div>

        <div class='col '>
          <img class='img logoImg' style="margin-left: -48px; filter:grayscale(90%)" width=70 src='icons/Covid.png'>
        </div>
      </div>
    </div>
    <div class='sideBody d-flex flex-column text-center'>
      <!-- <div class='row row-cols-1 '> -->
        <div class='col '>
          <button type="button" id='car' class="btn sideTabs"
          style="border: 1.5px solid  #EBF1EC; background-color: #EBF1EC; color: #3B7040; font-weight: bold;"> 
          <i class="fas fa-car fa-lg pr-2" aria-hidden="true"></i>Car Parking</button>
        </div>
        <div class='col'> 
          <button type="button" id='ped' class="btn sideTabs"
            style="border: 1.5px solid  #B6E8F8; color: #173D86; "><i class="fas fa-walking fa-lg pr-2"></i>Pedestrian</button>
        </div>
        <div class='col '>
          <button type="button" id='pm' class="btn sideTabs" style="border: 1.5px solid  #F4E7E7; color: #921212; ">
            <i class="fas fa-city fa-lg mr-2 " style="position: relative; right: 15px;"></i>PM
            2.5</button>
        </div>
      <div class='d-flex justify-content-center'>
        <button type="button" class="close" aria-label="Close">
          <span aria-hidden="true"><img id='closeIcon' src='icons/close-24px.svg'></span>
          
        </button>
      </div>
      <!-- <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a> -->
      <!-- </div> -->
    </div>

  </div>

  <!-- Add all page content inside this div if you want the side nav to push page content to the right (not used if you only want the sidenav to sit on top of the page -->
  <div id="main" class='vh-100'>
    <!-- Use any element to open the sidenav -->
    <div class='d-flex header justify-content-center'>
      <h1 class='mt-2 text-white ' id='headerText'>Car Parking</h1>

    </div>
    <div class='d-flex flex-column flex-grow-1 dash'>
      <div class='dashBack '>

        <!-- Carparking Dashboard -->
        <div class='tableauPlaceholder' id='viz1598942131626' style='position: relative'><noscript><a href='#'><img
                alt=' '
                src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;On&#47;OnStreetCarParking&#47;Dashboard1&#47;1_rss.png'
                style='border: none' /></a></noscript><object class='tableauViz' style='display:none;'>
            <param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' />
            <param name='embed_code_version' value='3' />
            <param name='site_root' value='' />
            <param name='name' value='OnStreetCarParking&#47;Dashboard1' />
            <param name='tabs' value='no' />
            <param name='toolbar' value='yes' />
            <param name='static_image'
              value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;On&#47;OnStreetCarParking&#47;Dashboard1&#47;1.png' />
            <param name='animate_transition' value='yes' />
            <param name='display_static_image' value='yes' />
            <param name='display_spinner' value='yes' />
            <param name='display_overlay' value='yes' />
            <param name='display_count' value='yes' />
            <param name='language' value='en-GB' />
            <param name='filter' value='publish=yes' /></object></div>
        <script type='text/javascript'>
          var divElement = document.getElementById('viz1598942131626');
          var vizElement = divElement.getElementsByTagName('object')[0];
          if (divElement.offsetWidth > 800) {
            vizElement.style.width = '100%';
            vizElement.style.height = (divElement.offsetWidth * 0.75) + 'px';
          }
          else if (divElement.offsetWidth > 500) {
            vizElement.style.width = '100%';
            vizElement.style.height = (divElement.offsetWidth * 0.75) + 'px';
          }
          else {
            vizElement.style.width = '100%'; vizElement.style.height = '927px';
          }
          var scriptElement = document.createElement('script');
          scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';
          vizElement.parentNode.insertBefore(scriptElement, vizElement);               
        </script>
        <!-- Car Parking END -->
        
        <!-- Pedestrian Dashboard -->
        <div id='viz2'> </div>
        <!-- Pedestrian Dashboard END -->

        <!-- PM Dashboard -->
        <div id='viz3'> </div>
        
        <!-- PM Dashboard END -->


      </div>
    </div>
  </div>


  <!-- End your project here-->
  <!-- AJAX -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <!-- jQuery -->
  <script type="text/javascript" src="js/jquery.min.js"></script>
  <!-- Bootstrap tooltips -->
  <script type="text/javascript" src="js/popper.min.js"></script>
  <!-- Bootstrap core JavaScript -->
  <script type="text/javascript" src="js/bootstrap.min.js"></script>
  <!-- MDB core JavaScript -->
  <script type="text/javascript" src="js/mdb.min.js"></script>
  <!-- Your custom scripts (optional) -->
  <script type="text/javascript">

    var clicked = $('#car');
    var pdLoad = false;
    var pmLoad = false;
    clicked.prop('disabled', true);
    $(document).ready(function () {
     
      $("#car").click(function () {
        //remove highlight from previously clicked button 
        clicked.css({ 'background-color': '' });
        clicked.css({ 'font-weight': 'normal' })
        //highlight clicked button
        var bgcolor = $(this).css('border');
        $(this).css({'background-color': bgcolor.substr(bgcolor.indexOf('rgb')), 'font-weight':'bold' });
        $(this).prop("disabled", true);
        

        //Display only car park
        $('#viz1598942131626').css({ 'display': 'block' });
        //hide pedestrian
        $('#viz1598942510701').css({ 'display': 'none' });
        //hide pm2.h-5
        $('#viz1598944109436').css({ 'display': 'none' });

        //Update header
        $("#headerText").text("Car Parking");
        $(".header").css({ 'background-image': 'url("icons/green.jpg")' });
        $(".header").addClass("animated fadeInDown");
        setTimeout(function () { $(".dashBack").css({ 'background-color': ' rgb(226 237 225 / 61%)' }); }, 200);
        setTimeout(function () { $(".header").removeClass("animated fadeInDown"); }, 800);

        //Enable other buttons
        $('#ped').prop("disabled", false);
        $("#pm").prop("disabled", false);

        //update clicked
        clicked = $(this);
      });

      $("#ped").click(function () {
        
        if(!pdLoad){
          $("#viz2").load('Dashboards/ped.html');
          pdLoad=true;
        }

        clicked.css({ 'background-color': '' });
        clicked.css({ 'font-weight': 'normal' })

        $(this).prop("disabled", true);
        var bgcolor = $(this).css('border');
        $(this).css({ 'background-color': bgcolor.substr(bgcolor.indexOf('rgb')) , 'font-weight':'bold'  });

        //Hide car park
        $('#viz1598942131626').css({ 'display': 'none' });
        //Display  Pedestrian Dashboard
        $('#viz1598942510701').css({ 'display': 'block' });
        //hide pm2.5
        $('#viz1598944109436').css({ 'display': 'none' });

        $("#headerText").text("Pedestrian Trends");
        $(".header").css({ 'background-image': 'url("icons/blue.jpg")' });
        $(".header").addClass("animated fadeInDown");
        setTimeout(function () { $(".dashBack").css({ 'background-color': 'rgb(232 243 246)' }); }, 200);
        setTimeout(function () { $(".header").removeClass("animated fadeInDown"); }, 800);

        $('#car').prop("disabled", false);
        $("#pm").prop("disabled", false);

        clicked = $(this);


      });

      $("#pm").click(function () {

        if(!pmLoad){
          $("#viz3").load('Dashboards/pm.html');
          pmLoad=true;
        }

        clicked.css({ 'background-color': '' });
        clicked.css({ 'font-weight': 'normal' })

        $(this).prop("disabled", true);
        var bgcolor = $(this).css('border');
        $(this).css({ 'background-color': bgcolor.substr(bgcolor.indexOf('rgb')) , 'font-weight':'bold' });

        //Hide car park
        $('#viz1598942131626').css({ 'display': 'none' });
        //hide pedestrian
        $('#viz1598942510701').css({ 'display': 'none' });
        //display pm2.h-5
        $('#viz1598944109436').css({ 'display': 'block' });


        $("#headerText").text("PM 2.5");
        $(".header").css({ 'background-image': 'url("icons/maroon.jpg")' });
        $(".header").addClass("animated fadeInDown");
        setTimeout(function () { $(".dashBack").css({ 'background-color': '#F4E7E7' }); }, 200);
        setTimeout(function () { $(".header").removeClass("animated fadeInDown"); }, 800);


        $('#car').prop("disabled", false);
        $("#ped").prop("disabled", false);

        clicked = $(this);
      });
        
        // $(".close").click(function() {
        //   $('#mySidenav').css({'width':'15.8rem'});
        //   $('#main').css({'margin-left':'15.8rem'});
        //   // document.getElementById("mySidenav").style.width = "15.8rem";
        //   // document.getElementById("main").style.marginLeft = "15.8rem";
        // });

        

          var expanded = [$('#car').html(), $('#ped').html(), $('#pm').html() ];
         // var st = [$('#car').css(),$('#ped').css(), $('#pm').css() ];
          var icons =[' <i class="fas fa-car fa-lg p-2" aria-hidden="true"></i>',  
                '<i class="fas fa-walking fa-lg p-2"></i>',
                '<i class="fas fa-city fa-lg p-2 "></i>'
            ];
        //Collapse SideNav
        $(".close").click(function() {

             var src = ($('#closeIcon').attr('src') === 'icons/arrow_right.svg')
            ? 'icons/close-24px.svg'
            : 'icons/arrow_right.svg';

         $('#closeIcon').attr('src', src);

         if($('#closeIcon').attr('src') === 'icons/arrow_right.svg'){
            $('#mySidenav').css({'width':'5.8rem'});
            $('#main').css({'margin-left':'5.8rem'});
          
          $(".logoText").css({'display':'none'});
          $('.logoImg').animate({'margin-left': '0px'}); 

          //change button styles
          $('#car').html(icons[0]);
         
          $('#ped').html(icons[1]);
         
          $('#pm').html(icons[2]);
          
          $('.sideTabs').css({'width':'inherit'})
          $('.sideTabs').toggleClass('btn');
          
         }
         else{
          $('#mySidenav').css({'width':'15.8rem'});
            $('#main').css({'margin-left':'15.8rem'});
          
          
          $('.logoImg').animate({'margin-left': '-48px'}); 
          setTimeout(function(){ $(".logoText").css({'display':'block'});}, 200)

          $('.sideTabs').css({'width':'11rem'})
         setTimeout(function(){ $('.sideTabs').toggleClass('btn');
            $('#car').html(expanded[0]);
          
          $('#ped').html(expanded[1]);
          
          $('#pm').html(expanded[2]);}, 150);  
         
         }
         
          
              });


    });
  </script>

</body>

</html>